var ce=Object.defineProperty,ue=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var X=(_,e,t)=>e in _?ce(_,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[e]=t,D=(_,e)=>{for(var t in e||(e={}))Q.call(e,t)&&X(_,t,e[t]);if(W)for(var t of W(e))Z.call(e,t)&&X(_,t,e[t]);return _},B=(_,e)=>ue(_,fe(e));var ee=(_,e)=>{var t={};for(var n in _)Q.call(_,n)&&e.indexOf(n)<0&&(t[n]=_[n]);if(_!=null&&W)for(var n of W(_))e.indexOf(n)<0&&Z.call(_,n)&&(t[n]=_[n]);return t};import{S as de,i as he,s as pe,e as ge,c as me,a as ve,d as I,b as z,f as O,g as y,t as Ee,h as we,j as Le,k as be,l as w,m as De,n as U,o as L,p as C,q as b,r as $e,u as Ie,v as K,w as R,x,y as k,z as H,A as N,B as A,C as j,D as G,E as te}from"./chunks/vendor-492729b6.js";function Pe(_){let e,t,n;const l=[_[1]||{}];var s=_[0][0];function a(r){let o={};for(let c=0;c<l.length;c+=1)o=j(o,l[c]);return{props:o}}return s&&(e=new s(a())),{c(){e&&R(e.$$.fragment),t=w()},l(r){e&&x(e.$$.fragment,r),t=w()},m(r,o){e&&k(e,r,o),y(r,t,o),n=!0},p(r,o){const c=o&2?H(l,[N(r[1]||{})]):{};if(s!==(s=r[0][0])){if(e){U();const u=e;L(u.$$.fragment,1,0,()=>{A(u,1)}),C()}s?(e=new s(a()),R(e.$$.fragment),b(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(r){n||(e&&b(e.$$.fragment,r),n=!0)},o(r){e&&L(e.$$.fragment,r),n=!1},d(r){r&&I(t),e&&A(e,r)}}}function Te(_){let e,t,n;const l=[_[1]||{}];var s=_[0][0];function a(r){let o={$$slots:{default:[Ae]},$$scope:{ctx:r}};for(let c=0;c<l.length;c+=1)o=j(o,l[c]);return{props:o}}return s&&(e=new s(a(_))),{c(){e&&R(e.$$.fragment),t=w()},l(r){e&&x(e.$$.fragment,r),t=w()},m(r,o){e&&k(e,r,o),y(r,t,o),n=!0},p(r,o){const c=o&2?H(l,[N(r[1]||{})]):{};if(o&525&&(c.$$scope={dirty:o,ctx:r}),s!==(s=r[0][0])){if(e){U();const u=e;L(u.$$.fragment,1,0,()=>{A(u,1)}),C()}s?(e=new s(a(r)),R(e.$$.fragment),b(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(r){n||(e&&b(e.$$.fragment,r),n=!0)},o(r){e&&L(e.$$.fragment,r),n=!1},d(r){r&&I(t),e&&A(e,r)}}}function ye(_){let e,t,n;const l=[_[2]||{}];var s=_[0][1];function a(r){let o={};for(let c=0;c<l.length;c+=1)o=j(o,l[c]);return{props:o}}return s&&(e=new s(a())),{c(){e&&R(e.$$.fragment),t=w()},l(r){e&&x(e.$$.fragment,r),t=w()},m(r,o){e&&k(e,r,o),y(r,t,o),n=!0},p(r,o){const c=o&4?H(l,[N(r[2]||{})]):{};if(s!==(s=r[0][1])){if(e){U();const u=e;L(u.$$.fragment,1,0,()=>{A(u,1)}),C()}s?(e=new s(a()),R(e.$$.fragment),b(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(r){n||(e&&b(e.$$.fragment,r),n=!0)},o(r){e&&L(e.$$.fragment,r),n=!1},d(r){r&&I(t),e&&A(e,r)}}}function Re(_){let e,t,n;const l=[_[2]||{}];var s=_[0][1];function a(r){let o={$$slots:{default:[ke]},$$scope:{ctx:r}};for(let c=0;c<l.length;c+=1)o=j(o,l[c]);return{props:o}}return s&&(e=new s(a(_))),{c(){e&&R(e.$$.fragment),t=w()},l(r){e&&x(e.$$.fragment,r),t=w()},m(r,o){e&&k(e,r,o),y(r,t,o),n=!0},p(r,o){const c=o&4?H(l,[N(r[2]||{})]):{};if(o&521&&(c.$$scope={dirty:o,ctx:r}),s!==(s=r[0][1])){if(e){U();const u=e;L(u.$$.fragment,1,0,()=>{A(u,1)}),C()}s?(e=new s(a(r)),R(e.$$.fragment),b(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(r){n||(e&&b(e.$$.fragment,r),n=!0)},o(r){e&&L(e.$$.fragment,r),n=!1},d(r){r&&I(t),e&&A(e,r)}}}function ke(_){let e,t,n;const l=[_[3]||{}];var s=_[0][2];function a(r){let o={};for(let c=0;c<l.length;c+=1)o=j(o,l[c]);return{props:o}}return s&&(e=new s(a())),{c(){e&&R(e.$$.fragment),t=w()},l(r){e&&x(e.$$.fragment,r),t=w()},m(r,o){e&&k(e,r,o),y(r,t,o),n=!0},p(r,o){const c=o&8?H(l,[N(r[3]||{})]):{};if(s!==(s=r[0][2])){if(e){U();const u=e;L(u.$$.fragment,1,0,()=>{A(u,1)}),C()}s?(e=new s(a()),R(e.$$.fragment),b(e.$$.fragment,1),k(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(r){n||(e&&b(e.$$.fragment,r),n=!0)},o(r){e&&L(e.$$.fragment,r),n=!1},d(r){r&&I(t),e&&A(e,r)}}}function Ae(_){let e,t,n,l;const s=[Re,ye],a=[];function r(o,c){return o[0][2]?0:1}return e=r(_),t=a[e]=s[e](_),{c(){t.c(),n=w()},l(o){t.l(o),n=w()},m(o,c){a[e].m(o,c),y(o,n,c),l=!0},p(o,c){let u=e;e=r(o),e===u?a[e].p(o,c):(U(),L(a[u],1,1,()=>{a[u]=null}),C(),t=a[e],t?t.p(o,c):(t=a[e]=s[e](o),t.c()),b(t,1),t.m(n.parentNode,n))},i(o){l||(b(t),l=!0)},o(o){L(t),l=!1},d(o){a[e].d(o),o&&I(n)}}}function ie(_){let e,t=_[5]&&re(_);return{c(){e=ge("div"),t&&t.c(),this.h()},l(n){e=me(n,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var l=ve(e);t&&t.l(l),l.forEach(I),this.h()},h(){z(e,"id","svelte-announcer"),z(e,"aria-live","assertive"),z(e,"aria-atomic","true"),O(e,"position","absolute"),O(e,"left","0"),O(e,"top","0"),O(e,"clip","rect(0 0 0 0)"),O(e,"clip-path","inset(50%)"),O(e,"overflow","hidden"),O(e,"white-space","nowrap"),O(e,"width","1px"),O(e,"height","1px")},m(n,l){y(n,e,l),t&&t.m(e,null)},p(n,l){n[5]?t?t.p(n,l):(t=re(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(n){n&&I(e),t&&t.d()}}}function re(_){let e;return{c(){e=Ee(_[6])},l(t){e=we(t,_[6])},m(t,n){y(t,e,n)},p(t,n){n&64&&Le(e,t[6])},d(t){t&&I(e)}}}function Oe(_){let e,t,n,l,s;const a=[Te,Pe],r=[];function o(u,h){return u[0][1]?0:1}e=o(_),t=r[e]=a[e](_);let c=_[4]&&ie(_);return{c(){t.c(),n=be(),c&&c.c(),l=w()},l(u){t.l(u),n=De(u),c&&c.l(u),l=w()},m(u,h){r[e].m(u,h),y(u,n,h),c&&c.m(u,h),y(u,l,h),s=!0},p(u,[h]){let d=e;e=o(u),e===d?r[e].p(u,h):(U(),L(r[d],1,1,()=>{r[d]=null}),C(),t=r[e],t?t.p(u,h):(t=r[e]=a[e](u),t.c()),b(t,1),t.m(n.parentNode,n)),u[4]?c?c.p(u,h):(c=ie(u),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null)},i(u){s||(b(t),s=!0)},o(u){L(t),s=!1},d(u){r[e].d(u),u&&I(n),c&&c.d(u),u&&I(l)}}}function Ve(_,e,t){let{stores:n}=e,{page:l}=e,{components:s}=e,{props_0:a=null}=e,{props_1:r=null}=e,{props_2:o=null}=e;$e("__svelte__",n),Ie(n.page.notify);let c=!1,u=!1,h=null;return K(()=>{const d=n.page.subscribe(()=>{c&&(t(5,u=!0),t(6,h=document.title||"untitled page"))});return t(4,c=!0),d}),_.$$set=d=>{"stores"in d&&t(7,n=d.stores),"page"in d&&t(8,l=d.page),"components"in d&&t(0,s=d.components),"props_0"in d&&t(1,a=d.props_0),"props_1"in d&&t(2,r=d.props_1),"props_2"in d&&t(3,o=d.props_2)},_.$$.update=()=>{_.$$.dirty&384&&n.page.set(l)},[s,a,r,o,c,u,h,n,l]}class Se extends de{constructor(e){super();he(this,e,Ve,Oe,pe,{stores:7,page:8,components:0,props_0:1,props_1:2,props_2:3})}}const Ue="modulepreload",ne={},Ce="/_app/",f=function(e,t){return!t||t.length===0?e():Promise.all(t.map(n=>{if(n=`${Ce}${n}`,n in ne)return;ne[n]=!0;const l=n.endsWith(".css"),s=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":Ue,l||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),l)return new Promise((r,o)=>{a.addEventListener("load",r),a.addEventListener("error",o)})})).then(()=>e())},i=[()=>f(()=>import("./pages/__layout.svelte-d8a2ae7f.js"),["pages/__layout.svelte-d8a2ae7f.js","assets/pages/__layout.svelte-3f550184.css","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/__error.svelte-7c622487.js"),["pages/__error.svelte-7c622487.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/index.md-8d511b4f.js"),["pages/index.md-8d511b4f.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/index.md-4fc8fec5.js"),["pages/030_Developing_a_Language/index.md-4fc8fec5.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/index.md-128c1e63.js"),["pages/030_Developing_a_Language/020_Definition_Level/index.md-128c1e63.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/040_Validator_Definition/index.md-def3072a.js"),["pages/030_Developing_a_Language/020_Definition_Level/040_Validator_Definition/index.md-def3072a.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/040_Validator_Definition/010_Validator_Files.md-617060a7.js"),["pages/030_Developing_a_Language/020_Definition_Level/040_Validator_Definition/010_Validator_Files.md-617060a7.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/index.md-e8a06a60.js"),["pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/index.md-e8a06a60.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/050_Other_Options.md-3884b555.js"),["pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/050_Other_Options.md-3884b555.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/020_Projections.md-e7d207ae.js"),["pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/020_Projections.md-e7d207ae.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/030_Indentation.md-72aa19b9.js"),["pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/030_Indentation.md-72aa19b9.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/010_Edit_Files.md-5359f754.js"),["pages/030_Developing_a_Language/020_Definition_Level/010_Editor_Definition/010_Edit_Files.md-5359f754.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/020_Scoper_Definition/index.md-15d0b26f.js"),["pages/030_Developing_a_Language/020_Definition_Level/020_Scoper_Definition/index.md-15d0b26f.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/020_Scoper_Definition/010_Scoper_Files.md-89567475.js"),["pages/030_Developing_a_Language/020_Definition_Level/020_Scoper_Definition/010_Scoper_Files.md-89567475.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/index.md-441602fe.js"),["pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/index.md-441602fe.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/030_Example_Typer_Definition.md-ab379b07.js"),["pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/030_Example_Typer_Definition.md-ab379b07.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/020_Example_Structure.md-d63c6eab.js"),["pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/020_Example_Structure.md-d63c6eab.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/010_Typer_Files.md-9e9e0c4b.js"),["pages/030_Developing_a_Language/020_Definition_Level/030_Typer_Definition/010_Typer_Files.md-9e9e0c4b.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/010_Default_Level/index.md-aaf57210.js"),["pages/030_Developing_a_Language/010_Default_Level/index.md-aaf57210.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/010_Default_Level/010_Defining_the_Language_Structure.md-287d66d0.js"),["pages/030_Developing_a_Language/010_Default_Level/010_Defining_the_Language_Structure.md-287d66d0.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/010_Default_Level/020_Defining_Concept_Properties.md-55307922.js"),["pages/030_Developing_a_Language/010_Default_Level/020_Defining_Concept_Properties.md-55307922.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/index.md-8a3a5b18.js"),["pages/030_Developing_a_Language/030_API_Level/index.md-8a3a5b18.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/020_Writing_Projections.md-4f47d801.js"),["pages/030_Developing_a_Language/030_API_Level/020_Writing_Projections.md-4f47d801.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/030_Writing_Actions.md-6fb01790.js"),["pages/030_Developing_a_Language/030_API_Level/030_Writing_Actions.md-6fb01790.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/040_Validator_API.md-a234fc0b.js"),["pages/030_Developing_a_Language/030_API_Level/040_Validator_API.md-a234fc0b.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/010_Editor_API.md-2d9fcfc5.js"),["pages/030_Developing_a_Language/030_API_Level/010_Editor_API.md-2d9fcfc5.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/060_Scoper_API.md-6bdef58e.js"),["pages/030_Developing_a_Language/030_API_Level/060_Scoper_API.md-6bdef58e.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/070_Reader_API.md-bfe0d3a6.js"),["pages/030_Developing_a_Language/030_API_Level/070_Reader_API.md-bfe0d3a6.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/030_API_Level/050_Typer_API.md-b6cc4d98.js"),["pages/030_Developing_a_Language/030_API_Level/050_Typer_API.md-b6cc4d98.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/040_Styling/index.md-72347246.js"),["pages/030_Developing_a_Language/040_Styling/index.md-72347246.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/030_Developing_a_Language/040_Styling/010_SCCS_Styling.md-9e953510.js"),["pages/030_Developing_a_Language/040_Styling/010_SCCS_Styling.md-9e953510.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/020_Getting_Started/index.md-6a5c360d.js"),["pages/020_Getting_Started/index.md-6a5c360d.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/020_Getting_Started/030_Calling_the_Generator.md-1c6c8ebb.js"),["pages/020_Getting_Started/030_Calling_the_Generator.md-1c6c8ebb.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/020_Getting_Started/020_Project_Structure.md-151dbd6f.js"),["pages/020_Getting_Started/020_Project_Structure.md-151dbd6f.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/020_Getting_Started/010_Installation.md-66fb6284.js"),["pages/020_Getting_Started/010_Installation.md-66fb6284.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/index.md-4c8f5244.js"),["pages/060_Under_the_Hood/index.md-4c8f5244.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/030_Source_Code_Documentation/index.md-1a29295e.js"),["pages/060_Under_the_Hood/030_Source_Code_Documentation/index.md-1a29295e.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/index.md-4ec7dd25.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/index.md-4ec7dd25.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/010_PiEnvironment_Interface.md-2bf1b84b.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/010_PiEnvironment_Interface.md-2bf1b84b.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/080_PiStandardlib_Interface.md-6121f3d2.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/080_PiStandardlib_Interface.md-6121f3d2.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/040_PiValidator_Interface.md-323f2142.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/040_PiValidator_Interface.md-323f2142.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/020_PiScoper_Interface.md-8ca1a504.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/020_PiScoper_Interface.md-8ca1a504.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/060_PiReader_Interface.md-c2368cd0.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/060_PiReader_Interface.md-c2368cd0.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/070_PiWriter_Interface.md-4eddf260.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/070_PiWriter_Interface.md-4eddf260.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/050_PiTyper_Interface.md-16b87d1c.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/050_PiTyper_Interface.md-16b87d1c.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/index.md-20642cb2.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/index.md-20642cb2.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/index.md-3cc4e8b5.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/index.md-3cc4e8b5.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/040_PiBinary_Expression_Interface.md-61695dd5.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/040_PiBinary_Expression_Interface.md-61695dd5.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/060_PiNamedElement_Interface.md-d5e1c284.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/060_PiNamedElement_Interface.md-d5e1c284.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/010_PiProjection_Interface.md-efa989c5.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/010_PiProjection_Interface.md-efa989c5.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/030_PiExpression_Interface.md-d8036a18.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/030_PiExpression_Interface.md-d8036a18.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/050_PiElement_Interface.md-440f2cd4.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/050_PiElement_Interface.md-440f2cd4.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/020_PiAction_Interface.md-fc9848e0.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/020_PiAction_Interface.md-fc9848e0.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/010_Predefined_Boxes.md-3b1e58f8.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/010_Predefined_Boxes.md-3b1e58f8.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/010_Intro/index.svelte-480d85f0.js"),["pages/010_Intro/index.svelte-480d85f0.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/010_Intro/050_Three_Levels_of_Customization.md-0be93b25.js"),["pages/010_Intro/050_Three_Levels_of_Customization.md-0be93b25.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/010_Intro/040_A_Language_in_Five_Parts.md-3179203f.js"),["pages/010_Intro/040_A_Language_in_Five_Parts.md-3179203f.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/010_Intro/030_Models_and_Model_Units.md-23b112c0.js"),["pages/010_Intro/030_Models_and_Model_Units.md-23b112c0.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>f(()=>import("./pages/010_Intro/010_Projectional_Editing.md-7b9cccce.js"),["pages/010_Intro/010_Projectional_Editing.md-7b9cccce.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/010_Intro/090_Future_Developments.md-0599d9c1.js"),["pages/010_Intro/090_Future_Developments.md-0599d9c1.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/010_Intro/020_Our_Philosophy.md-d99f45c9.js"),["pages/010_Intro/020_Our_Philosophy.md-d99f45c9.js","chunks/vendor-492729b6.js"]),()=>f(()=>import("./pages/010_Intro/060_Name_Change.md-97ba2505.js"),["pages/010_Intro/060_Name_Change.md-97ba2505.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>f(()=>import("./pages/099_about.svelte-7476444b.js"),["pages/099_about.svelte-7476444b.js","assets/pages/099_about.svelte-04e63ca7.css","chunks/vendor-492729b6.js"])],xe=[[/^\/$/,[i[0],i[2]],[i[1]]],[/^\/030_Developing_a_Language\/?$/,[i[0],i[3]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/?$/,[i[0],i[4]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/040_Validator_Definition\/?$/,[i[0],i[5]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/040_Validator_Definition\/010_Validator_Files\/?$/,[i[0],i[6]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/010_Editor_Definition\/?$/,[i[0],i[7]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/010_Editor_Definition\/050_Other_Options\/?$/,[i[0],i[8]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/010_Editor_Definition\/020_Projections\/?$/,[i[0],i[9]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/010_Editor_Definition\/030_Indentation\/?$/,[i[0],i[10]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/010_Editor_Definition\/010_Edit_Files\/?$/,[i[0],i[11]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/020_Scoper_Definition\/?$/,[i[0],i[12]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/020_Scoper_Definition\/010_Scoper_Files\/?$/,[i[0],i[13]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/030_Typer_Definition\/?$/,[i[0],i[14]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/030_Typer_Definition\/030_Example_Typer_Definition\/?$/,[i[0],i[15]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/030_Typer_Definition\/020_Example_Structure\/?$/,[i[0],i[16]],[i[1]]],[/^\/030_Developing_a_Language\/020_Definition_Level\/030_Typer_Definition\/010_Typer_Files\/?$/,[i[0],i[17]],[i[1]]],[/^\/030_Developing_a_Language\/010_Default_Level\/?$/,[i[0],i[18]],[i[1]]],[/^\/030_Developing_a_Language\/010_Default_Level\/010_Defining_the_Language_Structure\/?$/,[i[0],i[19]],[i[1]]],[/^\/030_Developing_a_Language\/010_Default_Level\/020_Defining_Concept_Properties\/?$/,[i[0],i[20]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/?$/,[i[0],i[21]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/020_Writing_Projections\/?$/,[i[0],i[22]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/030_Writing_Actions\/?$/,[i[0],i[23]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/040_Validator_API\/?$/,[i[0],i[24]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/010_Editor_API\/?$/,[i[0],i[25]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/060_Scoper_API\/?$/,[i[0],i[26]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/070_Reader_API\/?$/,[i[0],i[27]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/050_Typer_API\/?$/,[i[0],i[28]],[i[1]]],[/^\/030_Developing_a_Language\/040_Styling\/?$/,[i[0],i[29]],[i[1]]],[/^\/030_Developing_a_Language\/040_Styling\/010_SCCS_Styling\/?$/,[i[0],i[30]],[i[1]]],[/^\/020_Getting_Started\/?$/,[i[0],i[31]],[i[1]]],[/^\/020_Getting_Started\/030_Calling_the_Generator\/?$/,[i[0],i[32]],[i[1]]],[/^\/020_Getting_Started\/020_Project_Structure\/?$/,[i[0],i[33]],[i[1]]],[/^\/020_Getting_Started\/010_Installation\/?$/,[i[0],i[34]],[i[1]]],[/^\/060_Under_the_Hood\/?$/,[i[0],i[35]],[i[1]]],[/^\/060_Under_the_Hood\/030_Source_Code_Documentation\/?$/,[i[0],i[36]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/?$/,[i[0],i[37]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/010_PiEnvironment_Interface\/?$/,[i[0],i[38]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/080_PiStandardlib_Interface\/?$/,[i[0],i[39]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/040_PiValidator_Interface\/?$/,[i[0],i[40]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/020_PiScoper_Interface\/?$/,[i[0],i[41]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/060_PiReader_Interface\/?$/,[i[0],i[42]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/070_PiWriter_Interface\/?$/,[i[0],i[43]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/050_PiTyper_Interface\/?$/,[i[0],i[44]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/?$/,[i[0],i[45]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/?$/,[i[0],i[46]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/040_PiBinary_Expression_Interface\/?$/,[i[0],i[47]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/060_PiNamedElement_Interface\/?$/,[i[0],i[48]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/010_PiProjection_Interface\/?$/,[i[0],i[49]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/030_PiExpression_Interface\/?$/,[i[0],i[50]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/050_PiElement_Interface\/?$/,[i[0],i[51]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/020_PiAction_Interface\/?$/,[i[0],i[52]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/010_Predefined_Boxes\/?$/,[i[0],i[53]],[i[1]]],[/^\/010_Intro\/?$/,[i[0],i[54]],[i[1]]],[/^\/010_Intro\/050_Three_Levels_of_Customization\/?$/,[i[0],i[55]],[i[1]]],[/^\/010_Intro\/040_A_Language_in_Five_Parts\/?$/,[i[0],i[56]],[i[1]]],[/^\/010_Intro\/030_Models_and_Model_Units\/?$/,[i[0],i[57]],[i[1]]],[/^\/010_Intro\/010_Projectional_Editing\/?$/,[i[0],i[58]],[i[1]]],[/^\/010_Intro\/090_Future_Developments\/?$/,[i[0],i[59]],[i[1]]],[/^\/010_Intro\/020_Our_Philosophy\/?$/,[i[0],i[60]],[i[1]]],[/^\/010_Intro\/060_Name_Change\/?$/,[i[0],i[61]],[i[1]]],[/^\/099_about\/?$/,[i[0],i[62]],[i[1]]]],He=[i[0](),i[1]()];function Ne(_){let e=_.baseURI;if(!e){const t=_.getElementsByTagName("base");e=t.length?t[0].href:_.URL}return e}let M="";function je(_){M=_.base,_.assets}function J(){return{x:pageXOffset,y:pageYOffset}}function se(_){return _.composedPath().find(t=>t instanceof Node&&t.nodeName.toUpperCase()==="A")}function oe(_){return _ instanceof SVGAElement?new URL(_.href.baseVal,document.baseURI):new URL(_.href)}class Fe{constructor({base:e,routes:t,trailing_slash:n,renderer:l}){var s,a;this.base=e,this.routes=t,this.trailing_slash=n,this.navigating=0,this.renderer=l,l.router=this,this.enabled=!0,document.body.setAttribute("tabindex","-1"),this.current_history_index=(a=(s=history.state)==null?void 0:s["sveltekit:index"])!=null?a:0,this.current_history_index===0&&history.replaceState(B(D({},history.state),{"sveltekit:index":0}),"",location.href),this.callbacks={before_navigate:[],after_navigate:[]}}init_listeners(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),addEventListener("beforeunload",s=>{let a=!1;const r={from:this.renderer.current.url,to:null,cancel:()=>a=!0};this.callbacks.before_navigate.forEach(o=>o(r)),a?(s.preventDefault(),s.returnValue=""):history.scrollRestoration="auto"}),addEventListener("load",()=>{history.scrollRestoration="manual"});let e;addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{const s=B(D({},history.state||{}),{"sveltekit:scroll":J()});history.replaceState(s,document.title,window.location.href)},200)});const t=s=>{const a=se(s);a&&a.href&&a.hasAttribute("sveltekit:prefetch")&&this.prefetch(oe(a))};let n;const l=s=>{clearTimeout(n),n=setTimeout(()=>{var a;(a=s.target)==null||a.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))},20)};addEventListener("touchstart",t),addEventListener("mousemove",l),addEventListener("sveltekit:trigger_prefetch",t),addEventListener("click",s=>{if(!this.enabled||s.button||s.which!==1||s.metaKey||s.ctrlKey||s.shiftKey||s.altKey||s.defaultPrevented)return;const a=se(s);if(!a||!a.href)return;const r=oe(a);if(r.toString()===location.href){location.hash||s.preventDefault();return}const c=(a.getAttribute("rel")||"").split(/\s+/);if(a.hasAttribute("download")||c&&c.includes("external")||(a instanceof SVGAElement?a.target.baseVal:a.target))return;const[u,h]=r.href.split("#");if(h!==void 0&&u===location.href.split("#")[0]){setTimeout(()=>history.pushState({},"",r.href));const d=this.parse(r);return d?this.renderer.update(d,[],!1):void 0}this._navigate({url:r,scroll:a.hasAttribute("sveltekit:noscroll")?J():null,keepfocus:!1,chain:[],details:{state:{},replaceState:!1},accepted:()=>s.preventDefault(),blocked:()=>s.preventDefault()})}),addEventListener("popstate",s=>{if(s.state&&this.enabled){if(s.state["sveltekit:index"]===this.current_history_index)return;this._navigate({url:new URL(location.href),scroll:s.state["sveltekit:scroll"],keepfocus:!1,chain:[],details:null,accepted:()=>{this.current_history_index=s.state["sveltekit:index"]},blocked:()=>{const a=this.current_history_index-s.state["sveltekit:index"];history.go(a)}})}})}owns(e){return e.origin===location.origin&&e.pathname.startsWith(this.base)}parse(e){if(this.owns(e)){const t=decodeURI(e.pathname.slice(this.base.length)||"/");return{id:e.pathname+e.search,routes:this.routes.filter(([n])=>n.test(t)),url:e,path:t}}}async goto(e,{noscroll:t=!1,replaceState:n=!1,keepfocus:l=!1,state:s={}}={},a){const r=new URL(e,Ne(document));return this.enabled?this._navigate({url:r,scroll:t?J():null,keepfocus:l,chain:a,details:{state:s,replaceState:n},accepted:()=>{},blocked:()=>{}}):(location.href=r.href,new Promise(()=>{}))}enable(){this.enabled=!0}disable(){this.enabled=!1}async prefetch(e){const t=this.parse(e);if(!t)throw new Error("Attempted to prefetch a URL that does not belong to this app");return this.renderer.load(t)}after_navigate(e){K(()=>(this.callbacks.after_navigate.push(e),()=>{const t=this.callbacks.after_navigate.indexOf(e);this.callbacks.after_navigate.splice(t,1)}))}before_navigate(e){K(()=>(this.callbacks.before_navigate.push(e),()=>{const t=this.callbacks.before_navigate.indexOf(e);this.callbacks.before_navigate.splice(t,1)}))}async _navigate({url:e,scroll:t,keepfocus:n,chain:l,details:s,accepted:a,blocked:r}){const o=this.renderer.current.url;let c=!1;const u={from:o,to:e,cancel:()=>c=!0};if(this.callbacks.before_navigate.forEach(p=>p(u)),c){r();return}const h=this.parse(e);if(!h)return location.href=e.href,new Promise(()=>{});a(),this.navigating||dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.navigating++;let{pathname:d}=e;if(this.trailing_slash==="never"?d!=="/"&&d.endsWith("/")&&(d=d.slice(0,-1)):this.trailing_slash==="always"&&!e.pathname.split("/").pop().includes(".")&&!d.endsWith("/")&&(d+="/"),h.url=new URL(e.origin+d+e.search+e.hash),s){const p=s.replaceState?0:1;s.state["sveltekit:index"]=this.current_history_index+=p,history[s.replaceState?"replaceState":"pushState"](s.state,"",h.url)}if(await this.renderer.handle_navigation(h,l,!1,{scroll:t,keepfocus:n}),this.navigating--,!this.navigating){dispatchEvent(new CustomEvent("sveltekit:navigation-end"));const p={from:o,to:e};this.callbacks.after_navigate.forEach(g=>g(p))}}}function ae(_){return _ instanceof Error||_&&_.name&&_.message?_:new Error(JSON.stringify(_))}function qe(_){let e=5381,t=_.length;if(typeof _=="string")for(;t;)e=e*33^_.charCodeAt(--t);else for(;t;)e=e*33^_[--t];return(e>>>0).toString(36)}function _e(_){const e=_.status&&_.status>=400&&_.status<=599&&!_.redirect;if(_.error||e){const t=_.status;if(!_.error&&e)return{status:t||500,error:new Error};const n=typeof _.error=="string"?new Error(_.error):_.error;return n instanceof Error?!t||t<400||t>599?(console.warn('"error" returned from load() without a valid status code \u2014 defaulting to 500'),{status:500,error:n}):{status:t,error:n}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof n}"`)}}if(_.redirect){if(!_.status||Math.floor(_.status/100)!==3)return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if(typeof _.redirect!="string")return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}if(_.context)throw new Error('You are returning "context" from a load function. "context" was renamed to "stuff", please adjust your code accordingly.');return _}function le(_){const e=G(_);let t=!0;function n(){t=!0,e.update(a=>a)}function l(a){t=!1,e.set(a)}function s(a){let r;return e.subscribe(o=>{(r===void 0||t&&o!==r)&&a(r=o)})}return{notify:n,set:l,subscribe:s}}function We(){const{set:_,subscribe:e}=G(!1),t="1656080510103";let n;async function l(){clearTimeout(n);const a=await fetch(`${M}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(a.ok){const{version:r}=await a.json(),o=r!==t;return o&&(_(!0),clearTimeout(n)),o}else throw new Error(`Version check failed: ${a.status}`)}return{subscribe:e,check:l}}function Ge(_,e){const t=typeof _=="string"?_:_.url;let n=`script[data-type="svelte-data"][data-url=${JSON.stringify(t)}]`;e&&typeof e.body=="string"&&(n+=`[data-body="${qe(e.body)}"]`);const l=document.querySelector(n);if(l&&l.textContent){const s=JSON.parse(l.textContent),{body:a}=s,r=ee(s,["body"]);return Promise.resolve(new Response(a,r))}return fetch(_,e)}class Be{constructor({Root:e,fallback:t,target:n,session:l}){this.Root=e,this.fallback=t,this.router,this.target=n,this.started=!1,this.session_id=1,this.invalid=new Set,this.invalidating=null,this.autoscroll=!0,this.updating=!1,this.current={url:null,session_id:0,branch:[]},this.cache=new Map,this.loading={id:null,promise:null},this.stores={url:le({}),page:le({}),navigating:G(null),session:G(l),updated:We()},this.$session=null,this.root=null;let s=!1;this.stores.session.subscribe(async a=>{if(this.$session=a,!s||!this.router)return;this.session_id+=1;const r=this.router.parse(new URL(location.href));r&&this.update(r,[],!0)}),s=!0}disable_scroll_handling(){(this.updating||!this.started)&&(this.autoscroll=!1)}async start({status:e,error:t,nodes:n,url:l,params:s}){const a=[];let r={},o,c;l.hash=window.location.hash;try{for(let u=0;u<n.length;u+=1){const h=u===n.length-1;let d;if(h){const g=document.querySelector('[data-type="svelte-props"]');g&&(d=JSON.parse(g.textContent))}const p=await this._load_node({module:await n[u],url:l,params:s,stuff:r,status:h?e:void 0,error:h?t:void 0,props:d});if(d&&p.uses.dependencies.add(l.href),a.push(p),p&&p.loaded)if(p.loaded.error){if(t)throw p.loaded.error;c={status:p.loaded.status,error:p.loaded.error,url:l}}else p.loaded.stuff&&(r=D(D({},r),p.loaded.stuff))}o=c?await this._load_error(c):await this._get_navigation_result_from_branch({url:l,params:s,stuff:r,branch:a,status:e,error:t})}catch(u){if(t)throw u;o=await this._load_error({status:500,error:ae(u),url:l})}if(o.redirect){location.href=new URL(o.redirect,location.href).href;return}this._init(o)}async handle_navigation(e,t,n,l){this.started&&this.stores.navigating.set({from:this.current.url,to:e.url}),await this.update(e,t,n,l)}async update(e,t,n,l){var o,c,u;const s=this.token={};let a=await this._get_navigation_result(e,n);if(s!==this.token)return;if(this.invalid.clear(),a.redirect)if(t.length>10||t.includes(e.url.pathname))a=await this._load_error({status:500,error:new Error("Redirect loop"),url:e.url});else{this.router?this.router.goto(new URL(a.redirect,e.url).href,{replaceState:!0},[...t,e.url.pathname]):location.href=new URL(a.redirect,location.href).href;return}else if(((c=(o=a.props)==null?void 0:o.page)==null?void 0:c.status)>=400&&await this.stores.updated.check()){location.href=e.url.href;return}if(this.updating=!0,this.started?(this.current=a.state,this.root.$set(a.props),this.stores.navigating.set(null)):this._init(a),l){const{scroll:h,keepfocus:d}=l;if(d||((u=getSelection())==null||u.removeAllRanges(),document.body.focus()),await te(),this.autoscroll){const p=e.url.hash&&document.getElementById(e.url.hash.slice(1));h?scrollTo(h.x,h.y):p?p.scrollIntoView():scrollTo(0,0)}}else await te();if(this.loading.promise=null,this.loading.id=null,this.autoscroll=!0,this.updating=!1,!this.router)return;const r=a.state.branch[a.state.branch.length-1];r&&r.module.router===!1?this.router.disable():this.router.enable()}load(e){return this.loading.promise=this._get_navigation_result(e,!1),this.loading.id=e.id,this.loading.promise}invalidate(e){return this.invalid.add(e),this.invalidating||(this.invalidating=Promise.resolve().then(async()=>{const t=this.router&&this.router.parse(new URL(location.href));t&&await this.update(t,[],!0),this.invalidating=null})),this.invalidating}_init(e){this.current=e.state;const t=document.querySelector("style[data-svelte]");if(t&&t.remove(),this.root=new this.Root({target:this.target,props:D({stores:this.stores},e.props),hydrate:!0}),this.started=!0,this.router){const n={from:null,to:new URL(location.href)};this.router.callbacks.after_navigate.forEach(l=>l(n))}}async _get_navigation_result(e,t){if(this.loading.id===e.id&&this.loading.promise)return this.loading.promise;for(let n=0;n<e.routes.length;n+=1){const l=e.routes[n];let s=n+1;for(;s<e.routes.length;){const r=e.routes[s];if(r[0].toString()===l[0].toString())r[1].forEach(o=>o()),s+=1;else break}const a=await this._load({route:l,info:e},t);if(a)return a}return await this._load_error({status:404,error:new Error(`Not found: ${e.url.pathname}`),url:e.url})}async _get_navigation_result_from_branch({url:e,params:t,stuff:n,branch:l,status:s,error:a}){const r=l.filter(Boolean),o=r.find(d=>d.loaded&&d.loaded.redirect),c={redirect:o&&o.loaded?o.loaded.redirect:void 0,state:{url:e,params:t,branch:l,session_id:this.session_id},props:{components:r.map(d=>d.module.default)}};for(let d=0;d<r.length;d+=1){const p=r[d].loaded;c.props[`props_${d}`]=p?await p.props:null}if(!this.current.url||e.href!==this.current.url.href){c.props.page={url:e,params:t,status:s,error:a,stuff:n};const d=(p,g)=>{Object.defineProperty(c.props.page,p,{get:()=>{throw new Error(`$page.${p} has been replaced by $page.url.${g}`)}})};d("origin","origin"),d("path","pathname"),d("query","searchParams")}const u=r[r.length-1],h=u.loaded&&u.loaded.maxage;if(h){const d=e.pathname+e.search;let p=!1;const g=()=>{this.cache.get(d)===c&&this.cache.delete(d),P(),clearTimeout(V)},V=setTimeout(g,h*1e3),P=this.stores.session.subscribe(()=>{p&&g()});p=!0,this.cache.set(d,c)}return c}async _load_node({status:e,error:t,module:n,url:l,params:s,stuff:a,props:r}){const o={module:n,uses:{params:new Set,url:!1,session:!1,stuff:!1,dependencies:new Set},loaded:null,stuff:a};r&&o.uses.dependencies.add(l.href);const c={};for(const h in s)Object.defineProperty(c,h,{get(){return o.uses.params.add(h),s[h]},enumerable:!0});const u=this.$session;if(n.load){const{started:h}=this,d={params:c,props:r||{},get url(){return o.uses.url=!0,l},get session(){return o.uses.session=!0,u},get stuff(){return o.uses.stuff=!0,D({},a)},fetch(g,V){const P=typeof g=="string"?g:g.url,{href:T}=new URL(P,l);return o.uses.dependencies.add(T),h?fetch(g,V):Ge(g,V)}};t&&(d.status=e,d.error=t);const p=await n.load.call(null,d);if(!p)throw new Error("load function must return a value");o.loaded=_e(p),o.loaded.stuff&&(o.stuff=o.loaded.stuff)}else r&&(o.loaded=_e({props:r}));return o}async _load({route:e,info:{url:t,path:n}},l){const s=t.pathname+t.search;if(!l){const m=this.cache.get(s);if(m)return m}const[a,r,o,c,u]=e,h=c?c(a.exec(n)):{},d=this.current.url&&{url:s!==this.current.url.pathname+this.current.url.search,params:Object.keys(h).filter(m=>this.current.params[m]!==h[m]),session:this.session_id!==this.current.session_id};let p=[],g={},V=!1,P=200,T;r.forEach(m=>m());e:for(let m=0;m<r.length;m+=1){let v;try{if(!r[m])continue;const E=await r[m](),$=this.current.branch[m];if(!$||E!==$.module||d.url&&$.uses.url||d.params.some(S=>$.uses.params.has(S))||d.session&&$.uses.session||Array.from($.uses.dependencies).some(S=>this.invalid.has(S))||V&&$.uses.stuff){let S={};if(u&&m===r.length-1){const q=await fetch(`${t.pathname}${t.pathname.endsWith("/")?"":"/"}__data.json`,{headers:{"x-sveltekit-noredirect":"true"}});if(q.ok){const Y=q.headers.get("x-sveltekit-location");if(Y)return{redirect:Y,props:{},state:this.current};S=await q.json()}else P=q.status,T=new Error("Failed to load data")}if(T||(v=await this._load_node({module:E,url:t,params:h,props:S,stuff:g})),v&&v.loaded){if(v.loaded.fallthrough)return;if(v.loaded.error&&(P=v.loaded.status,T=v.loaded.error),v.loaded.redirect)return{redirect:v.loaded.redirect,props:{},state:this.current};v.loaded.stuff&&(V=!0)}}else v=$}catch(E){P=500,T=ae(E)}if(T){for(;m--;)if(o[m]){let E,$,F=m;for(;!($=p[F]);)F-=1;try{if(E=await this._load_node({status:P,error:T,module:await o[m](),url:t,params:h,stuff:$.stuff}),E&&E.loaded&&E.loaded.error)continue;E&&E.loaded&&E.loaded.stuff&&(g=D(D({},g),E.loaded.stuff)),p=p.slice(0,F+1).concat(E);break e}catch{continue}}return await this._load_error({status:P,error:T,url:t})}else v&&v.loaded&&v.loaded.stuff&&(g=D(D({},g),v.loaded.stuff)),p.push(v)}return await this._get_navigation_result_from_branch({url:t,params:h,stuff:g,branch:p,status:P,error:T})}async _load_error({status:e,error:t,url:n}){var c,u;const l={},s=await this._load_node({module:await this.fallback[0],url:n,params:l,stuff:{}}),a=await this._load_node({status:e,error:t,module:await this.fallback[1],url:n,params:l,stuff:s&&s.loaded&&s.loaded.stuff||{}}),r=[s,a],o=D(D({},(c=s==null?void 0:s.loaded)==null?void 0:c.stuff),(u=a==null?void 0:a.loaded)==null?void 0:u.stuff);return await this._get_navigation_result_from_branch({url:n,params:l,stuff:o,branch:r,status:e,error:t})}}async function Ke({paths:_,target:e,session:t,route:n,spa:l,trailing_slash:s,hydrate:a}){const r=new Be({Root:Se,fallback:He,target:e,session:t}),o=n?new Fe({base:_.base,routes:xe,trailing_slash:s,renderer:r}):null;je(_),a&&await r.start(a),o&&(l&&o.goto(location.href,{replaceState:!0},[]),o.init_listeners()),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Ke as start};
