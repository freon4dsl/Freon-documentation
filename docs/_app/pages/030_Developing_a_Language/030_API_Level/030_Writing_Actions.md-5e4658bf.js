import{S as rn,i as un,s as dn,e as p,t as s,k as r,c as i,a as c,d as e,h as a,m as u,b as pt,g as l,H as n,J as Le}from"../../../chunks/vendor-0dc77bd0.js";/* empty css                                                         *//* empty css                                                           */function hn(nn){let m,U,Ot,it,_,Lt,F,Dt,Pt,ct,b,Bt,K,Nt,St,lt,T,sn=`<code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MANUAL_EXPRESSION_CREATORS</span><span class="token operator">:</span> PiExpressionCreator<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">// Add your own custom expression creators here</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MANUAL_BINARY_EXPRESSION_CREATORS</span><span class="token operator">:</span> PiBinaryExpressionCreator<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">// Add your own custom binary expression creators here</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MANUAL_CUSTOM_BEHAVIORS</span><span class="token operator">:</span> PiCustomBehavior<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">// Add your own custom behavior here</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MANUAL_KEYBOARD</span><span class="token operator">:</span> KeyboardShortcutBehavior<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment">// Add your own custom keyboard shortcuts here</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code>`,rt,L,jt,ut,f,Rt,V,It,Ht,X,Wt,Mt,dt,d,gt,D,Ut,Ft,Y,Kt,Vt,q,Xt,Yt,J,qt,Jt,ht,C,an=`<code class="language-ts"><span class="token comment">// tutorial-language/editor/CustomEntityProjection.ts#L141-L146</span>

<span class="token keyword">new</span> <span class="token class-name">VerticalListBox</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span><span class="token string">"attributes"</span><span class="token punctuation">,</span>
    entity<span class="token punctuation">.</span>attributes<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>att <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getBox</span><span class="token punctuation">(</span>att<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addChild</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AliasBox</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span> <span class="token string">"end-of-attribute-list"</span><span class="token punctuation">,</span>
    <span class="token string">"add attribute"</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,kt,h,zt,z,Gt,Qt,G,Zt,$t,Q,te,ee,ft,O,on=`<code class="language-ts"><span class="token comment">// tutorial-language/editor/CustomEntityActions.ts#L39-L51</span>

    <span class="token comment">// Add your own custom behavior here</span>
    <span class="token punctuation">&#123;</span>
        activeInBoxRoles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"end-of-attribute-list"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                                            <span class="token comment">// &lt;1></span>
        trigger<span class="token operator">:</span> <span class="token string">"attribute"</span><span class="token punctuation">,</span>                                                                   <span class="token comment">// &lt;2></span>
        action<span class="token operator">:</span> <span class="token punctuation">(</span>box<span class="token operator">:</span> Box<span class="token punctuation">,</span> trigger<span class="token operator">:</span> PiTriggerType<span class="token punctuation">,</span> editor<span class="token operator">:</span> PiEditor<span class="token punctuation">)</span><span class="token operator">:</span> PiElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>     <span class="token comment">// &lt;3></span>
            <span class="token keyword">var</span> entity<span class="token operator">:</span> Entity <span class="token operator">=</span> box<span class="token punctuation">.</span>element <span class="token keyword">as</span> Entity<span class="token punctuation">;</span>
            <span class="token keyword">const</span> attribute<span class="token operator">:</span> AttributeWithLimitedType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AttributeWithLimitedType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            entity<span class="token punctuation">.</span>attributes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>attribute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> attribute<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        boxRoleToSelect<span class="token operator">:</span> <span class="token string">"Attribute-name"</span>                                                       <span class="token comment">// &lt;4></span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code>`,yt,P,ne,mt,k,Z,se,ae,w,oe,$,pe,ie,tt,ce,le,re,v,ue,et,de,he,nt,ke,fe,E,ye,st,me,we,at,Ee,_e,wt,B,be,Et,N,ve,_t,S,Ae,bt,j,xe,vt,R,Te,At,I,Ce,xt,H,Oe;return{c(){m=p("h1"),U=p("a"),Ot=s(" Writing Actions in TypeScript"),it=r(),_=p("p"),Lt=s(`When you have created your own custom projection, this projection is exactly that:
a projection. Other than the built-in default behavior (held in the file
`),F=p("code"),Dt=s("~/picode/editor/<yourLanguageName>DefaultActions.ts"),Pt=s(`), there are no actions defined yet.
Actions are necessary to enable the user to change the model and add elements to it.
The projections only describe what you will see in the editor.
Actions determine what you can do, how you interact with the editor.`),ct=r(),b=p("p"),Bt=s("As a convenience, the file "),K=p("code"),Nt=s("~/picode/editor/Custom<yourLanguageName>Actions.ts"),St=s(` is generated, which is a placeholder
for your own actions written in TypeScript. This file contains four constants for
different kind of actions. What you need to
do is to define these constants. Then Freon will merge your actions
with the default actions. If a trigger for an action is identical to a default one,
your custom actions take precedence.`),lt=r(),T=p("pre"),rt=r(),L=p("h2"),jt=s("Creation of New Elements"),ut=r(),f=p("p"),Rt=s("Now, let\u2019s start with adding an element, e.g. adding a new "),V=p("code"),It=s("property"),Ht=s(` to an
`),X=p("code"),Wt=s("Entity"),Mt=s("."),dt=r(),d=p("p"),gt=s("From "),D=p("a"),Ut=s("Actions"),Ft=s(` you will have learned
that an `),Y=p("code"),Kt=s("AliasBox"),Vt=s(` is a predefined box where the user can type text to trigger some action.
Thus, we add an `),q=p("code"),Xt=s("AliasBox"),Yt=s(` to the projection of the property list.
Note the role of the box: `),J=p("em"),qt=s("end-of-property-list"),Jt=s("."),ht=r(),C=p("pre"),kt=r(),h=p("p"),zt=s("Then we create the actual action and attach it to the role of the "),z=p("code"),Gt=s("AliasBox"),Qt=s(`. Note that the projection
and action
are defined in two different files, respectively `),G=p("code"),Zt=s("CustomEntityProjections.ts"),$t=s(" and "),Q=p("code"),te=s("CustomEntityActions.ts"),ee=s("."),ft=r(),O=p("pre"),yt=r(),P=p("p"),ne=s("The numbers in the comments indicate what happens here:"),mt=r(),k=p("ol"),Z=p("li"),se=s("The action is attached to each box with the role \u201Cend-of-property-list\u201D."),ae=r(),w=p("li"),oe=s("The action will be triggered when the user types "),$=p("code"),pe=s('"attribute"'),ie=s(" inside the "),tt=p("code"),ce=s("AliasBox"),le=s("."),re=r(),v=p("li"),ue=s("The executable code for the action. It creates a new "),et=p("code"),de=s("AttributeWithLimitedType"),he=s(" and attaches is to "),nt=p("code"),ke=s("entity"),fe=r(),E=p("li"),ye=s("The focus of the editor is returned to the "),st=p("code"),me=s("Box"),we=s(" with the role "),at=p("code"),Ee=s('"Attribute-name"'),_e=s(`
within the entity. This ensures that the user can immediately start typing the name of the entity after it has been created.`),wt=r(),B=p("p"),be=s(`There can be many boxes with the same role in the editor, as long as their model element is different.
This way, the above action is available for each attribute list in each entity.`),Et=r(),N=p("h2"),ve=s("Custom Actions"),_t=r(),S=p("p"),Ae=s("// TODO document other custom actions"),bt=r(),j=p("h2"),xe=s("Expressions and Binary Expressions"),vt=r(),R=p("p"),Te=s("// TODO Advanced expression editing."),At=r(),I=p("h2"),Ce=s("Keyboard Shortcuts"),xt=r(),H=p("p"),Oe=s("// TODO A keyboard shortcut specifies an action that is triggered by special keys, like e.g. Ctrl-A."),this.h()},l(t){m=i(t,"H1",{});var o=c(m);U=i(o,"A",{name:!0}),c(U).forEach(e),Ot=a(o," Writing Actions in TypeScript"),o.forEach(e),it=u(t),_=i(t,"P",{});var Tt=c(_);Lt=a(Tt,`When you have created your own custom projection, this projection is exactly that:
a projection. Other than the built-in default behavior (held in the file
`),F=i(Tt,"CODE",{});var De=c(F);Dt=a(De,"~/picode/editor/<yourLanguageName>DefaultActions.ts"),De.forEach(e),Pt=a(Tt,`), there are no actions defined yet.
Actions are necessary to enable the user to change the model and add elements to it.
The projections only describe what you will see in the editor.
Actions determine what you can do, how you interact with the editor.`),Tt.forEach(e),ct=u(t),b=i(t,"P",{});var Ct=c(b);Bt=a(Ct,"As a convenience, the file "),K=i(Ct,"CODE",{});var Pe=c(K);Nt=a(Pe,"~/picode/editor/Custom<yourLanguageName>Actions.ts"),Pe.forEach(e),St=a(Ct,` is generated, which is a placeholder
for your own actions written in TypeScript. This file contains four constants for
different kind of actions. What you need to
do is to define these constants. Then Freon will merge your actions
with the default actions. If a trigger for an action is identical to a default one,
your custom actions take precedence.`),Ct.forEach(e),lt=u(t),T=i(t,"PRE",{class:!0});var pn=c(T);pn.forEach(e),rt=u(t),L=i(t,"H2",{});var Be=c(L);jt=a(Be,"Creation of New Elements"),Be.forEach(e),ut=u(t),f=i(t,"P",{});var W=c(f);Rt=a(W,"Now, let\u2019s start with adding an element, e.g. adding a new "),V=i(W,"CODE",{});var Ne=c(V);It=a(Ne,"property"),Ne.forEach(e),Ht=a(W,` to an
`),X=i(W,"CODE",{});var Se=c(X);Wt=a(Se,"Entity"),Se.forEach(e),Mt=a(W,"."),W.forEach(e),dt=u(t),d=i(t,"P",{});var y=c(d);gt=a(y,"From "),D=i(y,"A",{href:!0});var je=c(D);Ut=a(je,"Actions"),je.forEach(e),Ft=a(y,` you will have learned
that an `),Y=i(y,"CODE",{});var Re=c(Y);Kt=a(Re,"AliasBox"),Re.forEach(e),Vt=a(y,` is a predefined box where the user can type text to trigger some action.
Thus, we add an `),q=i(y,"CODE",{});var Ie=c(q);Xt=a(Ie,"AliasBox"),Ie.forEach(e),Yt=a(y,` to the projection of the property list.
Note the role of the box: `),J=i(y,"EM",{});var He=c(J);qt=a(He,"end-of-property-list"),He.forEach(e),Jt=a(y,"."),y.forEach(e),ht=u(t),C=i(t,"PRE",{class:!0});var cn=c(C);cn.forEach(e),kt=u(t),h=i(t,"P",{});var A=c(h);zt=a(A,"Then we create the actual action and attach it to the role of the "),z=i(A,"CODE",{});var We=c(z);Gt=a(We,"AliasBox"),We.forEach(e),Qt=a(A,`. Note that the projection
and action
are defined in two different files, respectively `),G=i(A,"CODE",{});var Me=c(G);Zt=a(Me,"CustomEntityProjections.ts"),Me.forEach(e),$t=a(A," and "),Q=i(A,"CODE",{});var ge=c(Q);te=a(ge,"CustomEntityActions.ts"),ge.forEach(e),ee=a(A,"."),A.forEach(e),ft=u(t),O=i(t,"PRE",{class:!0});var ln=c(O);ln.forEach(e),yt=u(t),P=i(t,"P",{});var Ue=c(P);ne=a(Ue,"The numbers in the comments indicate what happens here:"),Ue.forEach(e),mt=u(t),k=i(t,"OL",{});var x=c(k);Z=i(x,"LI",{});var Fe=c(Z);se=a(Fe,"The action is attached to each box with the role \u201Cend-of-property-list\u201D."),Fe.forEach(e),ae=u(x),w=i(x,"LI",{});var M=c(w);oe=a(M,"The action will be triggered when the user types "),$=i(M,"CODE",{});var Ke=c($);pe=a(Ke,'"attribute"'),Ke.forEach(e),ie=a(M," inside the "),tt=i(M,"CODE",{});var Ve=c(tt);ce=a(Ve,"AliasBox"),Ve.forEach(e),le=a(M,"."),M.forEach(e),re=u(x),v=i(x,"LI",{});var ot=c(v);ue=a(ot,"The executable code for the action. It creates a new "),et=i(ot,"CODE",{});var Xe=c(et);de=a(Xe,"AttributeWithLimitedType"),Xe.forEach(e),he=a(ot," and attaches is to "),nt=i(ot,"CODE",{});var Ye=c(nt);ke=a(Ye,"entity"),Ye.forEach(e),ot.forEach(e),fe=u(x),E=i(x,"LI",{});var g=c(E);ye=a(g,"The focus of the editor is returned to the "),st=i(g,"CODE",{});var qe=c(st);me=a(qe,"Box"),qe.forEach(e),we=a(g," with the role "),at=i(g,"CODE",{});var Je=c(at);Ee=a(Je,'"Attribute-name"'),Je.forEach(e),_e=a(g,`
within the entity. This ensures that the user can immediately start typing the name of the entity after it has been created.`),g.forEach(e),x.forEach(e),wt=u(t),B=i(t,"P",{});var ze=c(B);be=a(ze,`There can be many boxes with the same role in the editor, as long as their model element is different.
This way, the above action is available for each attribute list in each entity.`),ze.forEach(e),Et=u(t),N=i(t,"H2",{});var Ge=c(N);ve=a(Ge,"Custom Actions"),Ge.forEach(e),_t=u(t),S=i(t,"P",{});var Qe=c(S);Ae=a(Qe,"// TODO document other custom actions"),Qe.forEach(e),bt=u(t),j=i(t,"H2",{});var Ze=c(j);xe=a(Ze,"Expressions and Binary Expressions"),Ze.forEach(e),vt=u(t),R=i(t,"P",{});var $e=c(R);Te=a($e,"// TODO Advanced expression editing."),$e.forEach(e),At=u(t),I=i(t,"H2",{});var tn=c(I);Ce=a(tn,"Keyboard Shortcuts"),tn.forEach(e),xt=u(t),H=i(t,"P",{});var en=c(H);Oe=a(en,"// TODO A keyboard shortcut specifies an action that is triggered by special keys, like e.g. Ctrl-A."),en.forEach(e),this.h()},h(){pt(U,"name","writing-actions"),pt(T,"class","language-ts"),pt(D,"href","/060_Under_the_Hood/010_The_Editor_Framework#defining-actions"),pt(C,"class","language-ts"),pt(O,"class","language-ts")},m(t,o){l(t,m,o),n(m,U),n(m,Ot),l(t,it,o),l(t,_,o),n(_,Lt),n(_,F),n(F,Dt),n(_,Pt),l(t,ct,o),l(t,b,o),n(b,Bt),n(b,K),n(K,Nt),n(b,St),l(t,lt,o),l(t,T,o),T.innerHTML=sn,l(t,rt,o),l(t,L,o),n(L,jt),l(t,ut,o),l(t,f,o),n(f,Rt),n(f,V),n(V,It),n(f,Ht),n(f,X),n(X,Wt),n(f,Mt),l(t,dt,o),l(t,d,o),n(d,gt),n(d,D),n(D,Ut),n(d,Ft),n(d,Y),n(Y,Kt),n(d,Vt),n(d,q),n(q,Xt),n(d,Yt),n(d,J),n(J,qt),n(d,Jt),l(t,ht,o),l(t,C,o),C.innerHTML=an,l(t,kt,o),l(t,h,o),n(h,zt),n(h,z),n(z,Gt),n(h,Qt),n(h,G),n(G,Zt),n(h,$t),n(h,Q),n(Q,te),n(h,ee),l(t,ft,o),l(t,O,o),O.innerHTML=on,l(t,yt,o),l(t,P,o),n(P,ne),l(t,mt,o),l(t,k,o),n(k,Z),n(Z,se),n(k,ae),n(k,w),n(w,oe),n(w,$),n($,pe),n(w,ie),n(w,tt),n(tt,ce),n(w,le),n(k,re),n(k,v),n(v,ue),n(v,et),n(et,de),n(v,he),n(v,nt),n(nt,ke),n(k,fe),n(k,E),n(E,ye),n(E,st),n(st,me),n(E,we),n(E,at),n(at,Ee),n(E,_e),l(t,wt,o),l(t,B,o),n(B,be),l(t,Et,o),l(t,N,o),n(N,ve),l(t,_t,o),l(t,S,o),n(S,Ae),l(t,bt,o),l(t,j,o),n(j,xe),l(t,vt,o),l(t,R,o),n(R,Te),l(t,At,o),l(t,I,o),n(I,Ce),l(t,xt,o),l(t,H,o),n(H,Oe)},p:Le,i:Le,o:Le,d(t){t&&e(m),t&&e(it),t&&e(_),t&&e(ct),t&&e(b),t&&e(lt),t&&e(T),t&&e(rt),t&&e(L),t&&e(ut),t&&e(f),t&&e(dt),t&&e(d),t&&e(ht),t&&e(C),t&&e(kt),t&&e(h),t&&e(ft),t&&e(O),t&&e(yt),t&&e(P),t&&e(mt),t&&e(k),t&&e(wt),t&&e(B),t&&e(Et),t&&e(N),t&&e(_t),t&&e(S),t&&e(bt),t&&e(j),t&&e(vt),t&&e(R),t&&e(At),t&&e(I),t&&e(xt),t&&e(H)}}}class mn extends rn{constructor(m){super();un(this,m,null,hn,dn,{})}}export{mn as default};
