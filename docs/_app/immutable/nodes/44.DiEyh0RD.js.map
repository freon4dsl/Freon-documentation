{"version":3,"file":"44.DiEyh0RD.js","sources":["../../../../../../src/routes/Documentation/Interpreter_Framework/SectionStore.ts","../../../../../../src/routes/Documentation/Interpreter_Framework/PageContent.svelte","../../../../../../src/routes/Documentation/Interpreter_Framework/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'Interpreter Framework', visible: false, ref: '#interpreter-framework-1' },\n\t\t{ title: 'What is an Interpreter', visible: false, ref: '#what-is-an-interpreter-2' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'üëÜ Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'üëÜ Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Scoping,_Typing,_and_Validating/Validator';\n\tlet nextLink = '/Documentation/Interpreter_Framework/The_Expressions_DSL';\n\n\timport Note from '$lib/notes/Note.svelte';\n\timport Figure from '$lib/figures/Figure.svelte';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n\n<SectionComponent tag=\"h1\" id=\"interpreter-framework-1\" bind:intersecting={visible[0]}>Interpreter Framework</SectionComponent>\n<p>Freon includes an interpreter framework which makes it easy to write an interpreter for a language.</p>\n<Note\n\t><svelte:fragment slot=\"header\">The Interpreter Framework is still in Development</svelte:fragment>\n\t<svelte:fragment slot=\"content\">\n\t\t<p>\n\t\t\tThe use of an interpreter in the Freon editor is still in development. Foremost, the presentation of the results is likely to change.\n\t\t\tWith this in mind, the interpreter framework is already usable.\n\t\t</p>\n\t</svelte:fragment></Note\n>\n<SectionComponent tag=\"h2\" id=\"what-is-an-interpreter-2\" bind:intersecting={visible[1]}>What is an Interpreter</SectionComponent>\n<p>\n\tMost articles on interpreters you will find start by describing lexers and parsers and as a final step evaluation. Forget about lexers,\n\tparsers, those are only needed when you start with plain text. Because we use a projectional editor, in Freon we have the AST of our model\n\talready available and do not need to parse text to get the AST.\n</p>\n<p>\n\tThe interpreter in Freon helps to calculate something based on the AST of the model. The general way to build an interpreter is as\n\tfollows:\n</p>\n<pre class=\"language-freon\">{@html `<code class=\"language-freon\">Select the start node you want to evaluate\n   If the node has children/parts\n      Evaluate the parts \n      Evaluate the node, using the evaluated value of the parts\n   else if the node is a leaf\n      Evaluate the node</code>`}</pre>\n<p>Take the following AST as an example.</p>\n<Figure imageName={'interpreter/plus-tree.png'} caption={'AST for Plus Expression'} figureNumber={1} />\n<p>Let‚Äôs evaluate the multiply (*) node.</p>\n<ul>\n\t<li>\n\t\tWe need to first evaluate the two children (+ and 5)\n\t\t<ul>\n\t\t\t<li>\n\t\t\t\tEvaluate the plus (+) node, we need to evaluate the children first.\n\t\t\t\t<ul>\n\t\t\t\t\t<li>Evaluate the ‚Äú3‚Äù node, resulting in the value 3</li>\n\t\t\t\t\t<li>Evaluate the ‚Äú4‚Äù node, resulting in the value 4</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t\t<li>Evaluate the plus based on the result of the children, result is 7</li>\n\t\t\t<li>Evaluate the ‚Äú5‚Äù node resulting in 5.</li>\n\t\t</ul>\n\t</li>\n\t<li>Evaluate multiply of 6 and 5, result is 30</li>\n</ul>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","insert_hydration","target","p","anchor","ctx","sectioncomponent0_props","sectioncomponent1_props","p0","p1","p2","pre","p3","p4","ul2","sectioncomponent0_changes","sectioncomponent1_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","ul","t0_value","attr","a","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}