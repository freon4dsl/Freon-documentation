{"version":3,"file":"69.DIiiUZCW.js","sources":["../../../../../../src/routes/Examples/External_Components/A_Wrapper_with_a_Button/SectionStore.ts","../../../../../../src/routes/Examples/External_Components/A_Wrapper_with_a_Button/PageContent.svelte","../../../../../../src/routes/Examples/External_Components/A_Wrapper_with_a_Button/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'A Wrapper with a Button', visible: false, ref: '#a-wrapper-with-a-button-1' },\n\t\t{ title: 'Step 1: Create the Svelte Component', visible: false, ref: '#step-1-create-the-svelte-component-2' },\n\t\t{ title: 'Step 2: Add to the Global Section', visible: false, ref: '#step-2-add-to-the-global-section-3' },\n\t\t{ title: 'Step 3: Include in the Projection', visible: false, ref: '#step-3-include-in-the-projection-4' },\n\t\t{ title: 'Step 4: Register in the Starter Code', visible: false, ref: '#step-4-register-in-the-starter-code-5' },\n\t\t{ title: 'Final Result', visible: false, ref: '#final-result-6' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\t$: $mySections[3].visible = visible[3];\n\t$: $mySections[4].visible = visible[4];\n\t$: $mySections[5].visible = visible[5];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'ðŸ‘† Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'ðŸ‘† Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Examples/External_Components/An_Icon_Component';\n\tlet nextLink = '/Examples/External_Components/Replacing_a_Part_List';\n\n\timport Figure from '$lib/figures/Figure.svelte';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n\n<SectionComponent tag=\"h1\" id=\"a-wrapper-with-a-button-1\" bind:intersecting={visible[0]}>A Wrapper with a Button</SectionComponent>\n<p>\n\tIn this part of the example, weâ€™ll walk through the steps to create a custom wrapper component in Freon. This component will wrap a native\n\tFreon component, using the <a href=\"https://sveltematerialui.com/\" target=\"_blank\">SMUI</a> (Svelte Material UI) library. Our example will\n\tshow how to combine a personâ€™s phone number with a special button that can trigger actions using the stored information. Here, a personâ€™s phone\n\tnumber is shown in a snackbar notification, but you could do all sorts of things, like sending the number to an external system that is able\n\tto set up a phone call, or to a system that checks the number against another database. Let your imagination run free.\n</p>\n<p><em>Note: This guide assumes Svelte version 4 and SMUI version 7. Updates to newer versions will follow in subsequent releases.</em></p>\n<p>Letâ€™s dive into the steps!</p>\n<SectionComponent tag=\"h2\" id=\"step-1-create-the-svelte-component-2\" bind:intersecting={visible[1]}\n\t>Step 1: Create the Svelte Component</SectionComponent\n>\n<p>\n\tWe will create a new Svelte component called <code>PhoneButton.svelte</code>, which will act as a wrapper for a phone number and provide a\n\tbutton to trigger actions. Take a look at the three key parts: <strong>Script</strong>, <strong>HTML</strong>, and <strong>CSS</strong>.\n</p>\n<h3 id=\"the-script-part-1\">The Script Part</h3>\n<p>\n\tIn the script section, we declare the two mandatory parameters: <code>box</code> and <code>editor</code>. The\n\t<code>box</code> is of type <code>NumberWrapperBox</code>, which is capable of wrapping a number node. (See\n\t<a href=\"/Documentation/Under_the_Hood/Editor_Framework/External_Component_Box_Types#wrapping-property-projections-of-primitive-type-5\"\n\t\t>Wrapping Property Projections of Primitive type</a\n\t>\n\tfor more on the interface of the <code>NumberWrapperBox</code>.)\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte#L8-L9</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> box<span class=\"token operator\">:</span> NumberWrapperBox<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> editor<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">;</span></code>`}</pre>\n<p>\n\tWe also define four functions that together make sure that the editor is updated correctly whenever the underlying AST (e.g. by adding, or\n\tremoving nodes) or box model (e.g. by selecting a different view) changes.\n</p>\n<p>\n\tFirst, we define the <code>setFocus</code> function to handle focus changes within the component, and a <code>refresh</code> function to update\n\tthe values when the underlying model changes:\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte#L16-L21</span>\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n    box<span class=\"token punctuation\">.</span>childBox<span class=\"token punctuation\">.</span><span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">const</span> refresh <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>why<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// do whatever needs to be done to refresh the elements that show information from the model</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span></code>`}</pre>\n<p>Make sure these functions are passed to the box using the <code>onMount</code> and <code>afterUpdate</code> lifecycle hooks:</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte#L22-L29</span>\n\n<span class=\"token function\">onMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    box<span class=\"token punctuation\">.</span>setFocus <span class=\"token operator\">=</span> setFocus<span class=\"token punctuation\">;</span>\n    box<span class=\"token punctuation\">.</span>refreshComponent <span class=\"token operator\">=</span> refresh<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">afterUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n    box<span class=\"token punctuation\">.</span>setFocus <span class=\"token operator\">=</span> setFocus<span class=\"token punctuation\">;</span>\n    box<span class=\"token punctuation\">.</span>refreshComponent <span class=\"token operator\">=</span> refresh<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code>`}</pre>\n<h3 id=\"the-html-part-2\">The HTML Part</h3>\n<p>\n\tThe HTML section of the component consists of a wrapper <code>div</code> that contains the phone number and an <code>IconButton</code> from\n\tthe SMUI library.\n</p>\n<p>\n\tThe wrapped box cannot be included directly, as it is a box, not a component. Freon offers a component that is able to render any box\n\tknown to the Freon framework. It takes the box and the editor parameters, which is the reason these parameters are mandatory. This\n\tcomponent is called <code>RenderComponent</code> and must be imported from the Freon core-svelte package.\n</p>\n<p>We set up the button to open a snackbar notification when clicked:</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte#L33-L36</span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"wrapper\"</span><span class=\"token operator\">></span>\n    Phone <span class=\"token builtin\">number</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>RenderComponent box<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>box<span class=\"token punctuation\">.</span>childBox<span class=\"token punctuation\">&#125;</span> editor<span class=\"token operator\">=</span><span class=\"token string\">\"&#123;editor&#125;\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>IconButton <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"material-icons\"</span> on<span class=\"token operator\">:</span>click<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>clicked<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> snackbarWithClose<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span> ripple<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>phone<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code>`}</pre>\n<p>\n\tNext, we define the <code>Snackbar</code> element from SMUI, which will show a message when the phone button is clicked. The message includes\n\tthe value of the phone number:\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte#L38-L43</span>\n\n<span class=\"token operator\">&lt;</span>Snackbar bind<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>snackbarWithClose<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Label<span class=\"token operator\">></span>This person has been called on <span class=\"token builtin\">number</span> <span class=\"token punctuation\">&#123;</span>box<span class=\"token punctuation\">.</span><span class=\"token function\">getPropertyValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Label<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Actions<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>IconButton <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"material-icons\"</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Dismiss\"</span><span class=\"token operator\">></span>close<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Actions<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Snackbar<span class=\"token operator\">></span></code>`}</pre>\n<h3 id=\"the-style-part-3\">The Style Part</h3>\n<p>\n\tFinally, we have added some styling for the div that wraps the phone number. The styling of the SMUI components is all done using the <a\n\t\thref=\"https://sveltematerialui.com/THEMING.md\"\n\t\ttarget=\"_blank\">SMUI theming</a\n\t>, which is already set up because it is also used for the surrounding web application.\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte#L45-L52</span>\n\n<span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">.</span>wrapper <span class=\"token punctuation\">&#123;</span>\n        display<span class=\"token operator\">:</span>flex<span class=\"token punctuation\">;</span>\n        flex<span class=\"token operator\">-</span>direction<span class=\"token operator\">:</span> row<span class=\"token punctuation\">;</span>\n        justify<span class=\"token operator\">-</span>content<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n        align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span></code>`}</pre>\n<h3 id=\"the-complete-component-4\">The Complete Component</h3>\n<p>Hereâ€™s the complete <code>PhoneButton.svelte</code> component:</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/PhoneButton.svelte</span>\n\n<span class=\"token operator\">&lt;</span>script lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">></span>\n    <span class=\"token keyword\">import</span> IconButton <span class=\"token keyword\">from</span> <span class=\"token string\">\"@smui/icon-button\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> Snackbar<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span> Actions<span class=\"token punctuation\">,</span> Label <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@smui/snackbar'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>RenderComponent<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@freon4dsl/core-svelte\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>FreEditor<span class=\"token punctuation\">,</span> NumberWrapperBox<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@freon4dsl/core\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>afterUpdate<span class=\"token punctuation\">,</span> onMount<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"svelte\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> box<span class=\"token operator\">:</span> NumberWrapperBox<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">export</span> <span class=\"token keyword\">let</span> editor<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> clicked<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> snackbarWithClose<span class=\"token operator\">:</span> Snackbar<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// The following four functions need to be included for the editor to function properly.</span>\n    <span class=\"token comment\">// Please, set the focus to the first editable/selectable element in this component.</span>\n    <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">&#123;</span>\n        box<span class=\"token punctuation\">.</span>childBox<span class=\"token punctuation\">.</span><span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token keyword\">const</span> refresh <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>why<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// do whatever needs to be done to refresh the elements that show information from the model</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">onMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        box<span class=\"token punctuation\">.</span>setFocus <span class=\"token operator\">=</span> setFocus<span class=\"token punctuation\">;</span>\n        box<span class=\"token punctuation\">.</span>refreshComponent <span class=\"token operator\">=</span> refresh<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">afterUpdate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n        box<span class=\"token punctuation\">.</span>setFocus <span class=\"token operator\">=</span> setFocus<span class=\"token punctuation\">;</span>\n        box<span class=\"token punctuation\">.</span>refreshComponent <span class=\"token operator\">=</span> refresh<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"wrapper\"</span><span class=\"token operator\">></span>\n    Phone <span class=\"token builtin\">number</span><span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>RenderComponent box<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>box<span class=\"token punctuation\">.</span>childBox<span class=\"token punctuation\">&#125;</span> editor<span class=\"token operator\">=</span><span class=\"token string\">\"&#123;editor&#125;\"</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>IconButton <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"material-icons\"</span> on<span class=\"token operator\">:</span>click<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>clicked<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span> snackbarWithClose<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">&#125;</span> ripple<span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>phone<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>Snackbar bind<span class=\"token operator\">:</span><span class=\"token keyword\">this</span><span class=\"token operator\">=</span><span class=\"token punctuation\">&#123;</span>snackbarWithClose<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Label<span class=\"token operator\">></span>This person has been called on <span class=\"token builtin\">number</span> <span class=\"token punctuation\">&#123;</span>box<span class=\"token punctuation\">.</span><span class=\"token function\">getPropertyValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Label<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Actions<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>IconButton <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"material-icons\"</span> title<span class=\"token operator\">=</span><span class=\"token string\">\"Dismiss\"</span><span class=\"token operator\">></span>close<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>IconButton<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Actions<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Snackbar<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>style<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">.</span>wrapper <span class=\"token punctuation\">&#123;</span>\n        display<span class=\"token operator\">:</span>flex<span class=\"token punctuation\">;</span>\n        flex<span class=\"token operator\">-</span>direction<span class=\"token operator\">:</span> row<span class=\"token punctuation\">;</span>\n        justify<span class=\"token operator\">-</span>content<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n        align<span class=\"token operator\">-</span>items<span class=\"token operator\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">></span>\n</code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"step-2-add-to-the-global-section-3\" bind:intersecting={visible[2]}\n\t>Step 2: Add to the Global Section</SectionComponent\n>\n<p>\n\tTo make the Freon code generator aware of our new component, we need to modify the <a\n\t\thref=\"/Documentation/Defining_an_Editor/Global_Projections\"><code>global</code></a\n\t>\n\tsection of the default editor configuration. Add the <code>PhoneButton</code> component here:\n</p>\n<pre class=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// CourseSchedule/phase3/defs/main.edit#L3-L8\n</span>\n<span class=\"token class-name\">global</span> &#123;\n    <span class=\"token class-name\">external</span> &#123;\n        PersonIcon,\n        PhoneButton\n    &#125;\n&#125;</code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"step-3-include-in-the-projection-4\" bind:intersecting={visible[3]}\n\t>Step 3: Include in the Projection</SectionComponent\n>\n<p>\n\tNext, we need to include the <code>PhoneButton</code> in the projection for the <code>Person</code> model. To do this, we modify the phone\n\tnumber property in the <code>externals.edit</code> file, adding the <code>wrap=PhoneButton</code> directive:\n</p>\n<pre class=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// CourseSchedule/phase3/defs/externals.edit\n</span>\n<span class=\"token keyword\">editor</span> externals\n\n<span class=\"token class-name\">Person</span> &#123;<span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token keyword\">fragment</span> nameAndIcon<span class=\"token punctuation\">]</span>\n        Availability: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.availability <span class=\"token keyword\">checkbox</span></span>&#125; Competence: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.competence</span>&#125;\n<span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">fragment</span> nameAndIcon <span class=\"token punctuation\">[</span>\n<span class=\"token punctuation\">[</span><span class=\"token keyword\">external</span>=PersonIcon<span class=\"token punctuation\">]</span> Nickname: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.name</span>&#125;\nFull Name: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.fullName</span>&#125;\n$&#123;<span class=\"token variable\">self</span>.phone <span class=\"token keyword\">wrap</span>=PhoneButton&#125;\n<span class=\"token punctuation\">]</span>\n&#125;\n</code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"step-4-register-in-the-starter-code-5\" bind:intersecting={visible[4]}\n\t>Step 4: Register in the Starter Code</SectionComponent\n>\n<p>\n\tFinally, we need to let the Freon editor know how to instantiate our new <code>PhoneButton</code>\n\tcomponent. We do this by adding the component to the <code>setCustomComponents</code> function in the starter code:\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// CourseSchedule/phase3/src/external/externals.ts</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span>setCustomComponents<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@freon4dsl/core-svelte\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> PersonIcon <span class=\"token keyword\">from</span> <span class=\"token string\">\"./PersonIcon.svelte\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> PhoneButton <span class=\"token keyword\">from</span> <span class=\"token string\">\"./PhoneButton.svelte\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Configure the external components used, so Freon can find them.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">configureExternals</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">setCustomComponents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">&#123;</span> component<span class=\"token operator\">:</span> PersonIcon<span class=\"token punctuation\">,</span> knownAs<span class=\"token operator\">:</span> <span class=\"token string\">\"PersonIcon\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">&#123;</span> component<span class=\"token operator\">:</span> PhoneButton<span class=\"token punctuation\">,</span> knownAs<span class=\"token operator\">:</span> <span class=\"token string\">\"PhoneButton\"</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n</code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"final-result-6\" bind:intersecting={visible[5]}>Final Result</SectionComponent>\n<p>\n\tOnce everything is set up, your Freon editor will look like this, with the added phone number button that opens a snackbar notification\n\twhen clicked:\n</p>\n<Figure imageName={'examples/CourseSchedule/Screenshot-step3.png'} caption={'Editor with added Phone Button'} figureNumber={1} />\n<h3 id=\"conclusion-5\">Conclusion</h3>\n<p>\n\tYouâ€™ve now successfully added a custom wrapper component to the Freon editor! This component wraps the phone number and includes a button\n\tthat opens a snackbar with the phone number displayed. With this knowledge, you can start creating more complex components that integrate\n\tseamlessly with the Freon editor!\n</p>\n<p>Next, you are going to learn how to replace the component that renders a list.</p>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","sectioncomponent3_props","sectioncomponent4_props","sectioncomponent5_props","insert_hydration","target","p0","anchor","p1","p2","p3","h30","p4","pre0","p5","p6","pre1","p7","pre2","h31","p8","p9","p10","pre3","p11","pre4","h32","p12","pre5","h33","p13","pre6","p14","pre7","p15","pre8","p16","pre9","p17","h34","p18","p19","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","sectioncomponent3_changes","sectioncomponent4_changes","sectioncomponent5_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","ul","t0_value","attr","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}