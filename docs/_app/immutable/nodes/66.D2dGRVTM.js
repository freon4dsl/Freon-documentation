import{s as un,A as Yt,a as g,e as m,H as mt,f as _,b as h,m as E,d as L,F as ht,g as a,h as v,i,B as Zt,v as fn,x as Mt,w as xn,t as qt,o as At,j as P,C as yn,D as kn,E as G,q as mn,p as hn}from"../chunks/scheduler.CIEH-92L.js";import{S as dn,i as gn,e as tn,c as at,a as ot,m as pt,t as lt,b as it,d as ct}from"../chunks/index.HLF2pGCU.js";import{e as Ht}from"../chunks/each.BLebZWAa.js";import{w as En}from"../chunks/index.bxqR-5-s.js";import{P as nn,S as en,c as Pn,B as Ln}from"../chunks/index.yTjXiNmY.js";import{F as Tn}from"../chunks/Figure.ClABA4Sw.js";const dt=En([]);function In(l){let n;return{c(){n=qt("Using the Context")},l(e){n=At(e,"Using the Context")},m(e,s){i(e,n,s)},d(e){e&&a(n)}}}function Rn(l){let n;return{c(){n=qt("Evaluation of a Step")},l(e){n=At(e,"Evaluation of a Step")},m(e,s){i(e,n,s)},d(e){e&&a(n)}}}function Fn(l){let n,e,s,c,u,k,o=`Now we have established how to determine the basic runtime values, we can continue with the heavy work: connecting all elements. This is
	where the context plays its role.`,r,d,I,b,R,F=`We are working bottom-up, so the next concept for which to implement an evaluation function is <code>Step</code>. Each step has a
	<code>fromPage</code>, and a series of answers to the questions on the <code>fromPage</code>, as shown in the following figure.`,N,q,U,T,V="What we need to do is:",B,A,kt="<li>compare the given answers for each question on the <code>fromPage</code> with the correct answers, and determine the number of correct answers</li> <li>based on the answers, find the grade from the <code>fromPage</code>,</li> <li>based on the grade, find the page the application should switch to according to the rule given in the page flow,</li> <li>finally, return as runtime value for this step the page to which the application should switch.</li>",O,y,x="Let’s take a step-by-step look at how this is implemented.",S,$,f="Number of Correct Answers",C,w,M,rt=`<code class="language-ts"><span class="token comment">// EducationInterpreter/src/custom/interpreter/EducationInterpreter.ts#L113-L126</span>

<span class="token comment">// Put the page for this step in the context</span>
<span class="token keyword">const</span> newCtx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InterpreterContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>

<span class="token comment">// Find the nr of correct answers and add it to the context</span>
<span class="token keyword">let</span> nrOfCorrectAnswers <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> answer <span class="token keyword">of</span> node<span class="token punctuation">.</span>answerSeries<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> actualAnswer <span class="token operator">=</span> main<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>value<span class="token punctuation">,</span> newCtx<span class="token punctuation">)</span>
    <span class="token comment">// Store the actual answer with the question.</span>
    newCtx<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>$question<span class="token punctuation">,</span> actualAnswer<span class="token punctuation">)</span>
    <span class="token keyword">const</span> expectedAnswer <span class="token operator">=</span> main<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span>answer<span class="token punctuation">.</span>$question<span class="token punctuation">.</span>correctAnswer<span class="token punctuation">,</span> newCtx<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>actualAnswer<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>expectedAnswer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        nrOfCorrectAnswers<span class="token operator">++</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,j,H,Ot=`In this example we see that contexts may be nested. A new context is created with a parent context as parameter to its constructor (<code>new InterpreterContext(ctx)</code>). For every answer of the step the runtime value of the given answer is stored in the context (<code>newCtx.set(...)</code>). Remember
	that in the <code>evalQuestionReference</code> function we found the given answer by looking it up in the context:`,gt,z,_t,_n=`<code class="language-ts"><span class="token comment">// EducationInterpreter/src/custom/interpreter/EducationInterpreter.ts#L190-L190</span>

<span class="token keyword">const</span> givenAnswer <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>question<span class="token punctuation">)</span></code>`,wt,Q,Ut="During the loop we increase the number of correct answers, which is also stored in the context.",vt,D,Bt="The Grade",$t,J,Dt="Now we have enough information to determine the grade of the `fromPage“:",Ct,K,bt,wn=`<code class="language-ts"><span class="token comment">// EducationInterpreter/src/custom/interpreter/EducationInterpreter.ts#L128-L129</span>


<span class="token comment">// Find the grade for the given answers</span></code>`,xt,X,Wt=`Note that we use the context with the stored value for <code>NR_OF_CORRECT_ANSWERS</code>, because the evaluation of the page may depend
	on this value.`,yt,W,Gt="The Page to Present to the Pupil",Et,Y,Vt=`In the model the page flow is given in a model unit of type <code>Flow</code>. This information is needed to determine which page should
	according to the flow rules and the current grade be presented to the pupil. The model unit that is needed is not known to a node of type
	<code>Step</code>, so this is another value that needs to be carried in a context. In this piece of code we assume that it is present in
	the context under the name <code>CURRENT_FLOW</code>. In the evaluation function for the overall test this information is stored in the
	context.`,Pt,Z,jt="From the flow we obtain the rule for the current page, and from that we get the transition for the given grade.",Lt,tt,Tt,vn=`<code class="language-ts"><span class="token comment">// EducationInterpreter/src/custom/interpreter/EducationInterpreter.ts#L131-L147</span>


<span class="token comment">//  Find rule for current page</span>
<span class="token keyword">const</span> currentFlow <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">"CURRENT_FLOW"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> RtFlow
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNullOrUndefined</span><span class="token punctuation">(</span>currentFlow<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RtError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">No flow found for page </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>currentPage<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> pageRule<span class="token operator">:</span> FlowRule <span class="token operator">=</span> currentFlow<span class="token punctuation">.</span>flow<span class="token punctuation">.</span>rules<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>rule<span class="token punctuation">)</span> <span class="token operator">=></span> rule<span class="token punctuation">.</span>$page <span class="token operator">===</span> currentPage<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNullOrUndefined</span><span class="token punctuation">(</span>pageRule<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RtError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">No rules found for page </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>currentPage<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>currentFlow<span class="token punctuation">.</span>flow<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// Find the page to which the application should switch based on the calculated grade,</span>
<span class="token comment">// and return it as the result of evaluating this step</span>
<span class="token keyword">const</span> transition <span class="token operator">=</span> pageRule<span class="token punctuation">.</span>transitions<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>trans<span class="token punctuation">)</span> <span class="token operator">=></span> trans<span class="token punctuation">.</span>$condition <span class="token operator">===</span> <span class="token punctuation">(</span>grade <span class="token keyword">as</span> RtGrade<span class="token punctuation">)</span><span class="token punctuation">.</span>grade<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNullOrUndefined</span><span class="token punctuation">(</span>transition<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RtError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">No transition found for grade </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>grade<span class="token punctuation">.</span>grade<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> on page </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>currentPage<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>currentFlow<span class="token punctuation">.</span>flow<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span></code>`,It,nt,zt="Now all that is left to do is to return the found page:",Rt,et,Ft,$n=`<code class="language-ts"><span class="token comment">// EducationInterpreter/src/custom/interpreter/EducationInterpreter.ts#L150-L150</span>

<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RtPage</span><span class="token punctuation">(</span>transition<span class="token punctuation">.</span>$toPage<span class="token punctuation">)</span></code>`,Nt,st,St;n=new nn({props:{prevLink:sn,nextLink:an}});function Cn(t){l[1](t)}let Qt={tag:"h1",id:"using-the-context-1",$$slots:{default:[In]},$$scope:{ctx:l}};l[0][0]!==void 0&&(Qt.intersecting=l[0][0]),s=new en({props:Qt}),Yt.push(()=>tn(s,"intersecting",Cn));function bn(t){l[2](t)}let Jt={tag:"h2",id:"evaluation-of-a-step-2",$$slots:{default:[Rn]},$$scope:{ctx:l}};return l[0][1]!==void 0&&(Jt.intersecting=l[0][1]),d=new en({props:Jt}),Yt.push(()=>tn(d,"intersecting",bn)),q=new Tn({props:{imageName:"examples/Interpreter/TestB.png",caption:"The steps in a test",figureNumber:1}}),st=new nn({props:{prevLink:sn,nextLink:an}}),{c(){at(n.$$.fragment),e=g(),at(s.$$.fragment),u=g(),k=m("p"),k.textContent=o,r=g(),at(d.$$.fragment),b=g(),R=m("p"),R.innerHTML=F,N=g(),at(q.$$.fragment),U=g(),T=m("p"),T.textContent=V,B=g(),A=m("ol"),A.innerHTML=kt,O=g(),y=m("p"),y.textContent=x,S=g(),$=m("h3"),$.textContent=f,C=g(),w=m("pre"),M=new mt(!1),j=g(),H=m("p"),H.innerHTML=Ot,gt=g(),z=m("pre"),_t=new mt(!1),wt=g(),Q=m("p"),Q.textContent=Ut,vt=g(),D=m("h3"),D.textContent=Bt,$t=g(),J=m("p"),J.textContent=Dt,Ct=g(),K=m("pre"),bt=new mt(!1),xt=g(),X=m("p"),X.innerHTML=Wt,yt=g(),W=m("h3"),W.textContent=Gt,Et=g(),Y=m("p"),Y.innerHTML=Vt,Pt=g(),Z=m("p"),Z.textContent=jt,Lt=g(),tt=m("pre"),Tt=new mt(!1),It=g(),nt=m("p"),nt.textContent=zt,Rt=g(),et=m("pre"),Ft=new mt(!1),Nt=g(),at(st.$$.fragment),this.h()},l(t){ot(n.$$.fragment,t),e=_(t),ot(s.$$.fragment,t),u=_(t),k=h(t,"P",{"data-svelte-h":!0}),E(k)!=="svelte-1ocuvn9"&&(k.textContent=o),r=_(t),ot(d.$$.fragment,t),b=_(t),R=h(t,"P",{"data-svelte-h":!0}),E(R)!=="svelte-3bma9w"&&(R.innerHTML=F),N=_(t),ot(q.$$.fragment,t),U=_(t),T=h(t,"P",{"data-svelte-h":!0}),E(T)!=="svelte-k1x1ne"&&(T.textContent=V),B=_(t),A=h(t,"OL",{"data-svelte-h":!0}),E(A)!=="svelte-1pibama"&&(A.innerHTML=kt),O=_(t),y=h(t,"P",{"data-svelte-h":!0}),E(y)!=="svelte-1iv27us"&&(y.textContent=x),S=_(t),$=h(t,"H3",{id:!0,"data-svelte-h":!0}),E($)!=="svelte-1k5zsix"&&($.textContent=f),C=_(t),w=h(t,"PRE",{class:!0});var p=L(w);M=ht(p,!1),p.forEach(a),j=_(t),H=h(t,"P",{"data-svelte-h":!0}),E(H)!=="svelte-1rxbo7e"&&(H.innerHTML=Ot),gt=_(t),z=h(t,"PRE",{class:!0});var ut=L(z);_t=ht(ut,!1),ut.forEach(a),wt=_(t),Q=h(t,"P",{"data-svelte-h":!0}),E(Q)!=="svelte-j04l9y"&&(Q.textContent=Ut),vt=_(t),D=h(t,"H3",{id:!0,"data-svelte-h":!0}),E(D)!=="svelte-1pauyym"&&(D.textContent=Bt),$t=_(t),J=h(t,"P",{"data-svelte-h":!0}),E(J)!=="svelte-1efdmg5"&&(J.textContent=Dt),Ct=_(t),K=h(t,"PRE",{class:!0});var ft=L(K);bt=ht(ft,!1),ft.forEach(a),xt=_(t),X=h(t,"P",{"data-svelte-h":!0}),E(X)!=="svelte-1gza0t7"&&(X.innerHTML=Wt),yt=_(t),W=h(t,"H3",{id:!0,"data-svelte-h":!0}),E(W)!=="svelte-cp504y"&&(W.textContent=Gt),Et=_(t),Y=h(t,"P",{"data-svelte-h":!0}),E(Y)!=="svelte-10nt76"&&(Y.innerHTML=Vt),Pt=_(t),Z=h(t,"P",{"data-svelte-h":!0}),E(Z)!=="svelte-k4yz4j"&&(Z.textContent=jt),Lt=_(t),tt=h(t,"PRE",{class:!0});var Kt=L(tt);Tt=ht(Kt,!1),Kt.forEach(a),It=_(t),nt=h(t,"P",{"data-svelte-h":!0}),E(nt)!=="svelte-1ltg48w"&&(nt.textContent=zt),Rt=_(t),et=h(t,"PRE",{class:!0});var Xt=L(et);Ft=ht(Xt,!1),Xt.forEach(a),Nt=_(t),ot(st.$$.fragment,t),this.h()},h(){v($,"id","number-of-correct-answers-1"),M.a=null,v(w,"class","language-ts"),_t.a=null,v(z,"class","language-ts"),v(D,"id","the-grade-2"),bt.a=null,v(K,"class","language-ts"),v(W,"id","the-page-to-present-to-the-pupil-3"),Tt.a=null,v(tt,"class","language-ts"),Ft.a=null,v(et,"class","language-ts")},m(t,p){pt(n,t,p),i(t,e,p),pt(s,t,p),i(t,u,p),i(t,k,p),i(t,r,p),pt(d,t,p),i(t,b,p),i(t,R,p),i(t,N,p),pt(q,t,p),i(t,U,p),i(t,T,p),i(t,B,p),i(t,A,p),i(t,O,p),i(t,y,p),i(t,S,p),i(t,$,p),i(t,C,p),i(t,w,p),M.m(rt,w),i(t,j,p),i(t,H,p),i(t,gt,p),i(t,z,p),_t.m(_n,z),i(t,wt,p),i(t,Q,p),i(t,vt,p),i(t,D,p),i(t,$t,p),i(t,J,p),i(t,Ct,p),i(t,K,p),bt.m(wn,K),i(t,xt,p),i(t,X,p),i(t,yt,p),i(t,W,p),i(t,Et,p),i(t,Y,p),i(t,Pt,p),i(t,Z,p),i(t,Lt,p),i(t,tt,p),Tt.m(vn,tt),i(t,It,p),i(t,nt,p),i(t,Rt,p),i(t,et,p),Ft.m($n,et),i(t,Nt,p),pt(st,t,p),St=!0},p(t,[p]){const ut={};p&16&&(ut.$$scope={dirty:p,ctx:t}),!c&&p&1&&(c=!0,ut.intersecting=t[0][0],Zt(()=>c=!1)),s.$set(ut);const ft={};p&16&&(ft.$$scope={dirty:p,ctx:t}),!I&&p&1&&(I=!0,ft.intersecting=t[0][1],Zt(()=>I=!1)),d.$set(ft)},i(t){St||(lt(n.$$.fragment,t),lt(s.$$.fragment,t),lt(d.$$.fragment,t),lt(q.$$.fragment,t),lt(st.$$.fragment,t),St=!0)},o(t){it(n.$$.fragment,t),it(s.$$.fragment,t),it(d.$$.fragment,t),it(q.$$.fragment,t),it(st.$$.fragment,t),St=!1},d(t){t&&(a(e),a(u),a(k),a(r),a(b),a(R),a(N),a(U),a(T),a(B),a(A),a(O),a(y),a(S),a($),a(C),a(w),a(j),a(H),a(gt),a(z),a(wt),a(Q),a(vt),a(D),a($t),a(J),a(Ct),a(K),a(xt),a(X),a(yt),a(W),a(Et),a(Y),a(Pt),a(Z),a(Lt),a(tt),a(It),a(nt),a(Rt),a(et),a(Nt)),ct(n,t),ct(s,t),ct(d,t),ct(q,t),ct(st,t)}}}let sn="/Examples/Building_an_Interpreter/Basic_Evaluation_Functions",an="/Examples/Building_an_Interpreter/Finishing_the_Test";function Nn(l,n,e){let s;fn(l,dt,o=>e(3,s=o)),Mt(dt,s=[{title:"Using the Context",visible:!1,ref:"#using-the-context-1"},{title:"Evaluation of a Step",visible:!1,ref:"#evaluation-of-a-step-2"}],s);let c=[];xn(()=>{document.querySelectorAll("pre").forEach(r=>{const d=document.createElement("div");d.className="copy-prompt";const I=document.createElement("p");I.innerHTML="👆 Click to copy",I.className="copy-prompt-p";const b=document.createElement("img");b.src="/icons/copy-icon.svg",b.className="copy-prompt-img",d.appendChild(b),d.appendChild(I),r.appendChild(d),r.querySelector(".copy-prompt > p").addEventListener("click",R=>{Pn(r.querySelector("code").textContent),r.querySelector(".copy-prompt > p").innerHTML="Copied!",setTimeout(()=>{r.querySelector(".copy-prompt > p").innerHTML="👆 Click to copy"},1e3)})})});function u(o){l.$$.not_equal(c[0],o)&&(c[0]=o,e(0,c))}function k(o){l.$$.not_equal(c[1],o)&&(c[1]=o,e(0,c))}return l.$$.update=()=>{l.$$.dirty&1&&Mt(dt,s[0].visible=c[0],s),l.$$.dirty&1&&Mt(dt,s[1].visible=c[1],s)},[c,u,k]}class Sn extends dn{constructor(n){super(),gn(this,n,Nn,Fn,un,{})}}function on(l,n,e){const s=l.slice();return s[6]=n[e],s[8]=e,s}function pn(l,n,e){const s=l.slice();return s[6]=n[e],s[8]=e,s}function Hn(l){let n,e;return{c(){n=m("img"),this.h()},l(s){n=h(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){v(n,"class","page-toc-small-img"),hn(n.src,e="/icons/down-arrow.png")||v(n,"src",e),v(n,"alt","arrow down")},m(s,c){i(s,n,c)},d(s){s&&a(n)}}}function qn(l){let n,e;return{c(){n=m("img"),this.h()},l(s){n=h(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){v(n,"class","page-toc-small-img"),hn(n.src,e="/icons/upload.png")||v(n,"src",e),v(n,"alt","arrow up")},m(s,c){i(s,n,c)},d(s){s&&a(n)}}}function ln(l){let n,e,s=Ht(l[0]),c=[];for(let u=0;u<s.length;u+=1)c[u]=cn(pn(l,s,u));return{c(){n=m("div"),e=m("ul");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){n=h(u,"DIV",{class:!0});var k=L(n);e=h(k,"UL",{class:!0});var o=L(e);for(let r=0;r<c.length;r+=1)c[r].l(o);o.forEach(a),k.forEach(a),this.h()},h(){v(e,"class","page-ul"),v(n,"class","toc-details")},m(u,k){i(u,n,k),P(n,e);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(e,null)},p(u,k){if(k&5){s=Ht(u[0]);let o;for(o=0;o<s.length;o+=1){const r=pn(u,s,o);c[o]?c[o].p(r,k):(c[o]=cn(r),c[o].c(),c[o].m(e,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=s.length}},d(u){u&&a(n),kn(c,u)}}}function cn(l){let n,e,s=l[6].title+"",c,u,k;return{c(){n=m("li"),e=m("a"),c=qt(s),k=g(),this.h()},l(o){n=h(o,"LI",{class:!0});var r=L(n);e=h(r,"A",{href:!0});var d=L(e);c=At(d,s),d.forEach(a),k=_(r),r.forEach(a),this.h()},h(){v(e,"href",u=l[6].ref),G(e,"page-visible",l[8]===l[2]),G(e,"page-nonvisible",l[8]!==l[2]),v(n,"class","page-toc-text")},m(o,r){i(o,n,r),P(n,e),P(e,c),P(n,k)},p(o,r){r&1&&s!==(s=o[6].title+"")&&mn(c,s),r&1&&u!==(u=o[6].ref)&&v(e,"href",u),r&4&&G(e,"page-visible",o[8]===o[2]),r&4&&G(e,"page-nonvisible",o[8]!==o[2])},d(o){o&&a(n)}}}function rn(l){let n,e,s=l[6].title+"",c,u,k;return{c(){n=m("li"),e=m("a"),c=qt(s),k=g(),this.h()},l(o){n=h(o,"LI",{class:!0});var r=L(n);e=h(r,"A",{href:!0});var d=L(e);c=At(d,s),d.forEach(a),k=_(r),r.forEach(a),this.h()},h(){v(e,"href",u=l[6].ref),G(e,"page-visible",l[8]===l[2]),G(e,"page-nonvisible",l[8]!==l[2]),v(n,"class","page-toc-text")},m(o,r){i(o,n,r),P(n,e),P(e,c),P(n,k)},p(o,r){r&1&&s!==(s=o[6].title+"")&&mn(c,s),r&1&&u!==(u=o[6].ref)&&v(e,"href",u),r&4&&G(e,"page-visible",o[8]===o[2]),r&4&&G(e,"page-nonvisible",o[8]!==o[2])},d(o){o&&a(n)}}}function An(l){let n,e,s,c="On this page ...",u,k,o,r,d,I,b,R,F,N,q="On this page",U,T,V,B,A;function kt(f,C){return f[1]?qn:Hn}let O=kt(l),y=O(l),x=l[1]&&ln(l);d=new Ln({}),b=new Sn({});let S=Ht(l[0]),$=[];for(let f=0;f<S.length;f+=1)$[f]=rn(on(l,S,f));return{c(){n=m("div"),e=m("div"),s=m("p"),s.textContent=c,u=g(),k=m("button"),y.c(),o=g(),x&&x.c(),r=g(),at(d.$$.fragment),I=g(),at(b.$$.fragment),R=g(),F=m("nav"),N=m("h3"),N.textContent=q,U=g(),T=m("ul");for(let f=0;f<$.length;f+=1)$[f].c();this.h()},l(f){n=h(f,"DIV",{class:!0});var C=L(n);e=h(C,"DIV",{class:!0});var w=L(e);s=h(w,"P",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-1929lhs"&&(s.textContent=c),u=_(w),k=h(w,"BUTTON",{class:!0});var M=L(k);y.l(M),M.forEach(a),w.forEach(a),o=_(C),x&&x.l(C),r=_(C),ot(d.$$.fragment,C),I=_(C),ot(b.$$.fragment,C),C.forEach(a),R=_(f),F=h(f,"NAV",{class:!0});var rt=L(F);N=h(rt,"H3",{class:!0,"data-svelte-h":!0}),E(N)!=="svelte-1hgt7fi"&&(N.textContent=q),U=_(rt),T=h(rt,"UL",{class:!0});var j=L(T);for(let H=0;H<$.length;H+=1)$[H].l(j);j.forEach(a),rt.forEach(a),this.h()},h(){v(s,"class","page-toc-small-title"),v(k,"class","page-toc-small-expand-button"),v(e,"class","page-toc-small"),v(n,"class","page-main"),v(N,"class","page-toc-title"),v(T,"class","page-ul"),v(F,"class","page-toc")},m(f,C){i(f,n,C),P(n,e),P(e,s),P(e,u),P(e,k),y.m(k,null),P(n,o),x&&x.m(n,null),P(n,r),pt(d,n,null),P(n,I),pt(b,n,null),i(f,R,C),i(f,F,C),P(F,N),P(F,U),P(F,T);for(let w=0;w<$.length;w+=1)$[w]&&$[w].m(T,null);V=!0,B||(A=yn(k,"click",l[4]),B=!0)},p(f,[C]){if(O!==(O=kt(f))&&(y.d(1),y=O(f),y&&(y.c(),y.m(k,null))),f[1]?x?x.p(f,C):(x=ln(f),x.c(),x.m(n,r)):x&&(x.d(1),x=null),C&5){S=Ht(f[0]);let w;for(w=0;w<S.length;w+=1){const M=on(f,S,w);$[w]?$[w].p(M,C):($[w]=rn(M),$[w].c(),$[w].m(T,null))}for(;w<$.length;w+=1)$[w].d(1);$.length=S.length}},i(f){V||(lt(d.$$.fragment,f),lt(b.$$.fragment,f),V=!0)},o(f){it(d.$$.fragment,f),it(b.$$.fragment,f),V=!1},d(f){f&&(a(n),a(R),a(F)),y.d(),x&&x.d(),ct(d),ct(b),kn($,f),B=!1,A()}}}function Mn(l,n,e){let s,c;fn(l,dt,d=>e(0,c=d));let u=!1;function k(d){let I=s;for(let b=0;b<d.length;b++)if(d[b].visible)return b;return I}function o(){e(1,u=!u)}const r=()=>{o()};return l.$$.update=()=>{l.$$.dirty&1&&e(2,s=k(c))},[c,u,s,o,r]}class Vn extends dn{constructor(n){super(),gn(this,n,Mn,An,un,{})}}export{Vn as component};
//# sourceMappingURL=66.D2dGRVTM.js.map
