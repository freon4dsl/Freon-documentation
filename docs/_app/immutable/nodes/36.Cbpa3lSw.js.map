{"version":3,"file":"36.Cbpa3lSw.js","sources":["../../../../../../src/routes/Documentation/Defining_an_Editor/Fragments/SectionStore.ts","../../../../../../src/routes/Documentation/Defining_an_Editor/Fragments/PageContent.svelte","../../../../../../src/routes/Documentation/Defining_an_Editor/Fragments/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'Projection Fragments', visible: false, ref: '#projection-fragments-1' },\n\t\t{ title: 'Fragment Definition', visible: false, ref: '#fragment-definition-2' },\n\t\t{ title: 'Fragment Inclusion', visible: false, ref: '#fragment-inclusion-3' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'ðŸ‘† Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'ðŸ‘† Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Defining_an_Editor/Buttons';\n\tlet nextLink = '/Documentation/Defining_an_Editor/Styling';\n\n\timport Note from '$lib/notes/Note.svelte';\n\timport Figure from '$lib/figures/Figure.svelte';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n\n<SectionComponent tag=\"h1\" id=\"projection-fragments-1\" bind:intersecting={visible[0]}>Projection Fragments</SectionComponent>\n<p>\n\tParts of a projection may be defined separately to provide more flexibility in the layout. These parts are called <strong\n\t\t>fragments</strong\n\t>.\n</p>\n<SectionComponent tag=\"h2\" id=\"fragment-definition-2\" bind:intersecting={visible[1]}>Fragment Definition</SectionComponent>\n<p>\n\tA fragment is defined in a similar manner as normal projections, except it starts with the keyword <code>fragment</code>, followed by the\n\tname of the fragment. The content is given in the familiar manner between the square brackets (<code>[]</code>).\n</p>\n<p>\n\tThe next example defines two fragments called (rather unimaginative) <code>First</code> and <code>Second</code>. Note that every fragment\n\tfor the same concept must have a unique name.\n</p>\n<pre\n\tclass=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/editor-fragments.edit#L8-L24\n</span>\n<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fragment</span> First <span class=\"token punctuation\">[</span>\n    First Card\n        is still under construction: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isUnderConstruction <span class=\"token keyword\">switch</span></span>&#125;\n        is approved level1: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isApprovedLevel1 <span class=\"token keyword\">radio</span></span>&#125;\n        is approved level2: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isApprovedLevel2 <span class=\"token keyword\">inner-switch</span></span>&#125;\n        is approved level3: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isApprovedLevel3 <span class=\"token keyword\">checkbox</span></span>&#125;\n    <span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fragment</span> Second <span class=\"token punctuation\">[</span>\n    Second Card\n        <span class=\"token punctuation\">[</span><span class=\"token keyword\">button</span> <span class=\"token keyword\">text</span>=<span class=\"token string\">\"Push me!\"</span> <span class=\"token keyword\">boxRole</span>=<span class=\"token string\">\"MyButton-role\"</span><span class=\"token punctuation\">]</span>\n        yields profit: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.yieldsProfit</span>&#125;\n        expected nr of use: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.nrOfUse <span class=\"token keyword\">slider</span></span>&#125;\n        range: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.range</span>&#125;\n        date: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.date</span>&#125;\n    <span class=\"token punctuation\">]</span>\n&#125;</code>`}</pre>\n<Note\n\t><svelte:fragment slot=\"header\">One property, one occurrence in the editor</svelte:fragment>\n\t<svelte:fragment slot=\"content\">\n\t\t<p>\n\t\t\tUnfortunately, it is not possible to show the same property of a concept twice in the same editor. The tooling we use to keep the\n\t\t\tstate of the underlying model in sync with the view in the running editor does not allow us to do this.\n\t\t</p>\n\t</svelte:fragment></Note\n>\n<SectionComponent tag=\"h2\" id=\"fragment-inclusion-3\" bind:intersecting={visible[2]}>Fragment Inclusion</SectionComponent>\n<p>\n\tEach fragment definition must be associated with a concept entry in a .edit file, but it cannot be directly included in the projection. To\n\tinclude a fragment within a projection, use the syntax <code>[fragment &lt;FRAGMENT_NAME&gt;]</code>, where\n\t<code>&lt;FRAGMENT_NAME&gt;</code>\n\tis the name of the desired fragment. Ensure there is no space between the opening square bracket (<code>[</code>) and the keyword\n\t<code>fragment</code>.\n</p>\n<p>Thus, the complete example is the following. Note that the conceptâ€™s projection is closed before the fragments are defined.</p>\n<pre\n\tclass=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/editor-fragments.edit#L3-L24\n</span>\n<span class=\"token class-name\">BaseProduct</span> &#123;\n<span class=\"token punctuation\">[</span>\n    Base Product for $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.theme <span class=\"token keyword\">radio</span></span>&#125; $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.name </span>&#125;\n        <span class=\"token punctuation\">[</span><span class=\"token keyword\">fragment</span> First<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">fragment</span> Second<span class=\"token punctuation\">]</span>\n        $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.parts</span>&#125;\n<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fragment</span> First <span class=\"token punctuation\">[</span>\n    First Card\n        is still under construction: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isUnderConstruction <span class=\"token keyword\">switch</span></span>&#125;\n        is approved level1: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isApprovedLevel1 <span class=\"token keyword\">radio</span></span>&#125;\n        is approved level2: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isApprovedLevel2 <span class=\"token keyword\">inner-switch</span></span>&#125;\n        is approved level3: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.isApprovedLevel3 <span class=\"token keyword\">checkbox</span></span>&#125;\n    <span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">fragment</span> Second <span class=\"token punctuation\">[</span>\n    Second Card\n        <span class=\"token punctuation\">[</span><span class=\"token keyword\">button</span> <span class=\"token keyword\">text</span>=<span class=\"token string\">\"Push me!\"</span> <span class=\"token keyword\">boxRole</span>=<span class=\"token string\">\"MyButton-role\"</span><span class=\"token punctuation\">]</span>\n        yields profit: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.yieldsProfit</span>&#125;\n        expected nr of use: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.nrOfUse <span class=\"token keyword\">slider</span></span>&#125;\n        range: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.range</span>&#125;\n        date: $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.date</span>&#125;\n    <span class=\"token punctuation\">]</span>\n&#125;</code>`}</pre>\n<p>\n\tIn this example we have styled the fragment boxes with a light yellow background. (More on styling can be found in <a\n\t\thref=\"/Documentation/Defining_an_Editor/Styling\">Styling</a\n\t>.) The styled editor looks like this.\n</p>\n<Figure imageName={'documentation/Documentation-Fragments-screenshot1.png'} caption={'Two fragments side by side'} figureNumber={1} />\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","insert_hydration","target","p","anchor","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","p0","p1","p2","pre0","p3","p4","pre1","p5","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","ul","t0_value","attr","a","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}