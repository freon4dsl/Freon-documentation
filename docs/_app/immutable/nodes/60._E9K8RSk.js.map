{"version":3,"file":"60._E9K8RSk.js","sources":["../../../../../../src/routes/Documentation/Under_the_Hood/Editor_Interfaces/SectionStore.ts","../../../../../../src/routes/Documentation/Under_the_Hood/Editor_Interfaces/PageContent.svelte","../../../../../../src/routes/Documentation/Under_the_Hood/Editor_Interfaces/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'The Freon Editor Interfaces', visible: false, ref: '#the-freon-editor-interfaces-1' },\n\t\t{ title: 'FreProjection', visible: false, ref: '#freprojection-2' },\n\t\t{ title: 'FreAction', visible: false, ref: '#freaction-3' },\n\t\t{ title: 'FreExpression', visible: false, ref: '#freexpression-4' },\n\t\t{ title: 'FreBinaryExpression', visible: false, ref: '#frebinaryexpression-5' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\t$: $mySections[3].visible = visible[3];\n\t$: $mySections[4].visible = visible[4];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'ðŸ‘† Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'ðŸ‘† Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Under_the_Hood/Core_Interfaces';\n\tlet nextLink = '/Documentation/Under_the_Hood/FreTool_Interfaces';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n<SectionComponent tag=\"h1\" id=\"the-freon-editor-interfaces-1\" bind:intersecting={visible[0]}>The Freon Editor Interfaces</SectionComponent>\n<p>\n\tThere are two series of interfaces that make Freon and its generated code extensible and flexible. The first series are the\n\txref:../tools-interfaces/tools-interfaces-intro[interfaces of the generated code].\n</p>\n<p>The second series of interfaces are those that define the editor framework:</p>\n<SectionComponent tag=\"h2\" id=\"freprojection-2\" bind:intersecting={visible[1]}>FreProjection</SectionComponent>\n<p>The projection from your model/AST is defined by implementing the <em>FreProjection</em> interface:</p>\n<pre class=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">/* File: core/src/editor/FreProjection.ts  */</span>\n\n<span class=\"token comment\">/**\n * Interface for a custom projection.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreProjection</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// Name of the custom projection</span>\n\tname<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// A map from the name of the concept (or the freLanguageConcept() of the FreElement node) to</span>\n\t<span class=\"token comment\">// the function that may return the custom box for a node of that type.</span>\n\tnodeTypeToBoxMethod<span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span> FreNode<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Box<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">// A map from the name of the concept (or the freLanguageConcept() of the FreElement node) to</span>\n\t<span class=\"token comment\">// the function that may return the custom box for a node of that type.</span>\n\tnodeTypeToTableDefinition<span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> FreTableDefinition<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span></code>`}</pre>\n<p>\n\tImplementing this interface should return a <em>Box</em> for each <code>element</code> in the AST. Freon includes boxes of various types\n\t(textual, tabular, horizontal or vertical collections, etc.) to define this projection. The box model is further described in the\n\t<a href=\"/Documentation/Under_the_Hood/Editor_Framework#projection-layout-based-on-boxes-3\">editor framework</a>.\n</p>\n<SectionComponent tag=\"h2\" id=\"freaction-3\" bind:intersecting={visible[2]}>FreAction</SectionComponent>\n<p>An object that implements <code>FreCombinedActions</code></p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">/* File: core/src/editor/FreCombinedActions.ts */</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreCombinedActions</span> <span class=\"token punctuation\">&#123;</span>\n\tbinaryExpressionActions<span class=\"token operator\">:</span> FreCreateBinaryExpressionAction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n\tcustomActions<span class=\"token operator\">:</span> FreCustomAction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span></code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"freexpression-4\" bind:intersecting={visible[3]}>FreExpression</SectionComponent>\n<p>An object that implements <code>FreExpression</code></p>\n<pre class=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">/* File: core/src/language/FreExpression.ts */</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreExpression</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FreElement</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"frebinaryexpression-5\" bind:intersecting={visible[4]}>FreBinaryExpression</SectionComponent>\n<p>\n\tAn object that implements <code>FreBinaryExpression</code> is a node in the model AST. It represents an expression that has exactly two operands,\n\twhich are usually written to the left and right of the operator symbol. For example, â€˜4+5â€™.\n</p>\n<p>\n\tThis interface extends the <a href=\"/Documentation/Under_the_Hood/Editor_Interfaces#freexpression-4\"><code>FreExpression</code></a> interface.\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">/* File: core/src/language/FreBinaryExpression.ts */</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreBinaryExpression</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FreExpression</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token function\">piLeft</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> FreExpression<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">piSetLeft</span><span class=\"token punctuation\">(</span>left<span class=\"token operator\">:</span> FreExpression<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">piRight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> FreExpression<span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">piSetRight</span><span class=\"token punctuation\">(</span>right<span class=\"token operator\">:</span> FreExpression<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">piPriority</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n <span class=\"token operator\">*</span><span class=\"token operator\">/</span></code>`}</pre>\n<p>In both series the following two interfaces are used:</p>\n<ul>\n\t<li><a href=\"/Documentation/Under_the_Hood/Core_Interfaces#fre-node-1\">FreElement</a></li>\n\t<li><a href=\"/Documentation/Under_the_Hood/Core_Interfaces#fre-named-node-2\">FreNamedElement</a></li>\n</ul>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","sectioncomponent3_props","sectioncomponent4_props","insert_hydration","target","p0","anchor","p1","p2","pre0","p3","p4","pre1","p5","pre2","p6","p7","pre3","p8","ul","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","sectioncomponent3_changes","sectioncomponent4_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","t0_value","attr","a","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","p","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}