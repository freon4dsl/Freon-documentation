{"version":3,"file":"51.DObI8QRz.js","sources":["../../../../../../src/routes/Documentation/Scoping,_Typing,_and_Validating/Scope_Provider/SectionStore.ts","../../../../../../src/routes/Documentation/Scoping,_Typing,_and_Validating/Scope_Provider/PageContent.svelte","../../../../../../src/routes/Documentation/Scoping,_Typing,_and_Validating/Scope_Provider/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'Scope Provider', visible: false, ref: '#scope-provider-1' },\n\t\t{ title: 'Namespaces', visible: false, ref: '#namespaces-2' },\n\t\t{ title: 'Namespace Additions', visible: false, ref: '#namespace-additions-3' },\n\t\t{ title: 'Alternative Scopes', visible: false, ref: '#alternative-scopes-4' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\t$: $mySections[3].visible = visible[3];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'ðŸ‘† Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'ðŸ‘† Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Scoping,_Typing,_and_Validating';\n\tlet nextLink = '/Documentation/Scoping,_Typing,_and_Validating/Type_Provider';\n\n\timport Note from '$lib/notes/Note.svelte';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n\n<SectionComponent tag=\"h1\" id=\"scope-provider-1\" bind:intersecting={visible[0]}>Scope Provider</SectionComponent>\n<p>\n\tScoping is about the question of which names are accessible/visible where. In the general case, all names in a context are divided into\n\tsets, called <strong>namespaces</strong>. These sets do not overlap, but there can be subsets.\n</p>\n<p>\n\tThe <strong>scope provider</strong> (or <strong>scoper</strong>, for short) definition provides the information necessary to determine\n\twhich names are in which set. Any part of the scoper definition must be included in a file with the extension <code>.scope</code>. All\n\tfiles with this extension in the <a href=\"/Documentation/Overview/Getting_Started#template-project-startup-3\"><em>defs</em> folder</a>\n\t(i.e. the folder were you keep your definition files) are combined into one scoper definition.\n</p>\n<SectionComponent tag=\"h2\" id=\"namespaces-2\" bind:intersecting={visible[1]}>Namespaces</SectionComponent>\n<p>The default scoper simply regards the model of your user as the one and only namespace.</p>\n<p>\n\tHowever, in the scoper definition you can mark a list of concepts to be <strong>namespaces</strong>. Every <em>namespace</em> holds its own\n\tset of visible names. Any namespace shadows the visible names from its surrounding namespace (using lexical scope), which means that if name\n\tA is both in the outer, and in the inner namespace, in the inner namespace only the inner name is used.\n</p>\n<pre class=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/scoper-docu.scope#L3-L3\n</span>\n<span class=\"token class-name\">isnamespace</span> &#123; InsuranceProduct, BaseProduct, CalcFunction, Entity &#125;</code>`}</pre>\n<p>\n\tInterfaces can be namespaces as well. Any instance of a concept that implements this interface will also be regarded to be a namespace,\n\tbut only the names of the properties of the interface will be included.\n</p>\n<Note>\n\t<svelte:fragment slot=\"header\">Each model unit is a namespace.</svelte:fragment>\n\t<svelte:fragment slot=\"content\">On all Levels of Customizations model units are always considered to be namespaces.</svelte:fragment>\n</Note>\n<SectionComponent tag=\"h2\" id=\"namespace-additions-3\" bind:intersecting={visible[2]}>Namespace Additions</SectionComponent>\n<p>\n\tThe standard namespaces can be added to. In that case, the visible elements from the addition are included. By indicating an addition to a\n\tnamespace you can, for instance, support inheritance. In the following example,\n\t<code>baseEntity</code> is in the language structure definition (<code>.ast</code> file) defined to be the super type of the\n\t<code>Entity</code>\n\tconcept. The names visible in the <code>baseEntity</code>\n\tare included in the namespace by defining the namespace-addition.\n</p>\n<pre\n\tclass=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/language-extras.ast#L34-L38\n</span>\n<span class=\"token keyword\">concept</span> <span class=\"token class-name\">Entity</span> &#123;\n    isCompany: <span class=\"token builtin\">boolean</span>;\n    name: <span class=\"token builtin\">identifier</span>;\n    <span class=\"token keyword\">reference</span> baseEntity?: <span class=\"token class-name\">Entity</span>;\n&#125;</code>`}</pre>\n<pre class=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/scoper-docu.scope#L13-L15\n</span>\n<span class=\"token class-name\">Entity</span> &#123;\n    <span class=\"token keyword\">namespace_addition</span> = <span class=\"token variable\">self</span>.baseEntity;\n&#125;</code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"alternative-scopes-4\" bind:intersecting={visible[3]}>Alternative Scopes</SectionComponent>\n<p>\n\tYou can also indicate that a different namespace altogether should be used. In the following example, the elements visible in an <code\n\t\t>AttributeRef</code\n\t> are determined based on the type of its container, i.e. the type of its parent in the AST.\n</p>\n<pre class=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/scoper-docu.scope#L9-L11\n</span>\n<span class=\"token class-name\">AttributeRef</span> &#123;\n\t<span class=\"token keyword\">scope</span> = <span class=\"token keyword\">typeof</span>( <span class=\"token keyword\">container</span> );\n&#125;</code>`}</pre>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","sectioncomponent3_props","insert_hydration","target","p0","anchor","p1","p2","p3","pre0","p4","p5","pre1","pre2","p6","pre3","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","sectioncomponent3_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","ul","t0_value","attr","a","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","p","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}