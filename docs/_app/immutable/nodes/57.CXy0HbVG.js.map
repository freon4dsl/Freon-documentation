{"version":3,"file":"57.CXy0HbVG.js","sources":["../../../../../../src/routes/Documentation/Under_the_Hood/Editor_Framework/SectionStore.ts","../../../../../../src/routes/Documentation/Under_the_Hood/Editor_Framework/PageContent.svelte","../../../../../../src/routes/Documentation/Under_the_Hood/Editor_Framework/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'The Projectional Editor Framework', visible: false, ref: '#the-projectional-editor-framework-1' },\n\t\t{ title: 'The AST, the Box Tree, and the DOM', visible: false, ref: '#the-ast-the-box-tree-and-the-dom-2' },\n\t\t{ title: 'Projection Layout Based on Boxes', visible: false, ref: '#projection-layout-based-on-boxes-3' },\n\t\t{ title: 'Coupling Behavior to Boxes', visible: false, ref: '#coupling-behavior-to-boxes-4' },\n\t\t{ title: 'Behavior is Defined by Actions', visible: false, ref: '#behavior-is-defined-by-actions-5' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\t$: $mySections[3].visible = visible[3];\n\t$: $mySections[4].visible = visible[4];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'üëÜ Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'üëÜ Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Under_the_Hood';\n\tlet nextLink = '/Documentation/Under_the_Hood/Editor_Framework/Predefined_Boxes';\n\n\timport Figure from '$lib/figures/Figure.svelte';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n\n<SectionComponent tag=\"h1\" id=\"the-projectional-editor-framework-1\" bind:intersecting={visible[0]}\n\t>The Projectional Editor Framework</SectionComponent\n>\n<p>\n\tThe Projectional Editor Framework is written in <a href=\"https://www.typescriptlang.org/\">TypeScript</a>\n\tand <a href=\"https://svelte.dev/\" target=\"_blank\">Svelte</a>. This page provides an overview of the Framework. If you want to know how to\n\tuse it, see <a href=\"/Documentation/Customizations/Editor_Customization\">Editor Customization</a>.\n</p>\n<SectionComponent tag=\"h2\" id=\"the-ast-the-box-tree-and-the-dom-2\" bind:intersecting={visible[1]}\n\t>The AST, the Box Tree, and the DOM</SectionComponent\n>\n<p>\n\tThe internal representation of any model written in a DSL is a tree of instances of TypeScript classes, the Abstract Syntax Tree (AST).\n\tAll AST classes implement the core interface <a href=\"/Documentation/Under_the_Hood/Core_Interfaces\"><code>FreNode</code></a>. Because the\n\tvisual representation in the editor can differ from the AST, every visual element is represented by another TypeScript class called\n\t<strong>Box</strong>. All boxes that are used to show a certain projection set or editor view, form another tree, called the\n\t<strong>Box Tree</strong>. In fact, any box tree is the internal representation of the concrete syntax, and can therefore also be called\n\tthe <strong>Concrete Syntax Tree</strong> (CST). Note, that there can be multiple box trees for one AST, because there can be multiple projection\n\tsets (or editors, or views, whatever name you want to give them). Thus, at any moment there are two internal TypeScript representations of\n\tthe model, one that is the Abstract Syntax Tree (AST), and one that is the Concrete Syntax Tree (or Box Tree).\n</p>\n<p>\n\tBecause Freon produces a web based editor, there is yet another representation of the content, the Document Object Model (DOM). According\n\tto <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\">MDN Web Docs</a> the DOM is the data\n\trepresentation of the objects that comprise the structure and content of a document on the web. In other words, the DOM, which is also a\n\ttree, represents the HTML elements in memory. In Freon, HTML elements are implemented using\n\t<a href=\"https://svelte.dev/\" target=\"_blank\">Svelte</a> components.\n</p>\n<p>\n\tAt any moment that the Freon editor is being used, Freon keeps these three different representations of the user‚Äôs model in sync. This\n\tsection of the documentation explains the <strong>Box Tree</strong>.\n</p>\n<SectionComponent tag=\"h2\" id=\"projection-layout-based-on-boxes-3\" bind:intersecting={visible[2]}\n\t>Projection Layout Based on Boxes</SectionComponent\n>\n<p>\n\tThe layout of every visible element in the editor is based on <em>boxes</em>. A box is a rectangular area in the editor. Every AST node is\n\tprojected in a box. A box can contain any number of child boxes.\n</p>\n<p>\n\tThe framework provides many types of predefined boxes. See\n\t<a href=\"/Documentation/Under_the_Hood/Editor_Framework/Predefined_Boxes\">Predefined Boxes</a> for an overview. These boxes can be used to\n\tbuild a projection.\n</p>\n<p>\n\tLet‚Äôs look at a small example to start with. Figure 1 shows the projection of the concept <code>StringLiteral</code>. This is mapped to a\n\thorizontal list of a quote (‚Äù), an editable text with the value of the StringLiteral, and a closing quote (‚Äù). Note that the quotes are\n\tnot part of the AST. They are part of the concrete syntax used in this projection of the AST.\n</p>\n<Figure imageName=\"documentation/mapping-example-stringliteral.svg\" caption=\"Mapping a StringLiteral\" figureNumber={1} />\n<p>\n\tIn TypeScript, using the <a href=\"/Documentation/Under_the_Hood/Editor_Framework/Predefined_Boxes\">predefined boxes</a>, this projection\n\tmight look something like:\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token keyword\">new</span> <span class=\"token class-name\">HorizontalListBox</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">LabelBox</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\"'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextBox</span><span class=\"token punctuation\">(</span>stringLiteral<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">LabelBox</span><span class=\"token punctuation\">(</span><span class=\"token string\">'\"'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"coupling-behavior-to-boxes-4\" bind:intersecting={visible[3]}>Coupling Behavior to Boxes</SectionComponent>\n<p>\n\tUser actions on boxes need to be translated into interactions with the projected AST. To know which part of the projection represents the\n\tAST node, we give each <code>Box</code> in the projection a <em>role</em>, which is unique within its parent box. This way we can identify\n\tevery box by its model element plus its role.\n</p>\n<p>In the following figure the roles are shown above the boxes in green.</p>\n<Figure\n\tcaption=\"Mapping a StringLiteral with Roles\"\n\timageName=\"documentation/mapping-example-stringliteral-with-roles.svg\"\n\tfigureNumber={2}\n/>\n<p>\n\tWe can now show the full typescript code for this projection. Given that <code>literal</code> is the <code>StringLiteral</code> object:\n</p>\n<pre class=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">//</span>\n<span class=\"token keyword\">new</span> <span class=\"token class-name\">HorizontalListBox</span><span class=\"token punctuation\">(</span>literal<span class=\"token punctuation\">,</span> <span class=\"token string\">\"full-string\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>      <span class=\"token comment\">// &lt;1></span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">LabelBox</span><span class=\"token punctuation\">(</span>literal<span class=\"token punctuation\">,</span> <span class=\"token string\">\"start-quote\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\"'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>          <span class=\"token comment\">// &lt;2></span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">TextBox</span><span class=\"token punctuation\">(</span>                                        <span class=\"token comment\">// &lt;3></span>\n        literal<span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"value\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> literal<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>v<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>literal<span class=\"token punctuation\">.</span>value # v<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">new</span> <span class=\"token class-name\">LabelBox</span><span class=\"token punctuation\">(</span>literal<span class=\"token punctuation\">,</span> <span class=\"token string\">\"end-quote\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'\"'</span><span class=\"token punctuation\">)</span>             <span class=\"token comment\">// &lt;4></span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code>`}</pre>\n<ol>\n\t<li>\n\t\tThe overall horizontal list box to group everything. Its parameters are the model element that is shown, the role of the box, and a list\n\t\tof child boxes.\n\t</li>\n\t<li>\n\t\tThe first label box for the start quote. Its parameters are, like the horizontal box, the model element, the role of the box, and its\n\t\tcontent, which is the quote character.\n\t</li>\n\t<li>\n\t\tThe text box for the value of the string literal. Its parameters are, like the horizontal box, the model element, the role of the box,\n\t\tthe getter function for the content, and the setter function, used when the content changes.\n\t</li>\n\t<li>The second label box for the end quote. Except for its role, this is identical to the first label box.</li>\n</ol>\n<SectionComponent tag=\"h2\" id=\"behavior-is-defined-by-actions-5\" bind:intersecting={visible[4]}\n\t>Behavior is Defined by Actions</SectionComponent\n>\n<p>\n\tThe behavior coupled to a <em>Box</em> is defined by an <code>Action</code>. To identify which action should be executed, each behavior is\n\tspecified by:\n</p>\n<ul>\n\t<li>a <em>trigger</em>, describing the key(s) that will trigger the behavior, and</li>\n\t<li>one or more <em>roles</em>, specifying that the behavior is only active in boxes with that specific role,</li>\n\t<li>an <em>action</em>, which is a typescript/javascript function that will be executed when the behavior is being triggered.</li>\n\t<li>a <em>caretPosition</em>, which is the box where the cursor should be placed after the execution of the action (optional).</li>\n</ul>\n<p>There are four different types of action, each of which extend the <code>FreBehavior</code> interface.</p>\n<ol>\n\t<li><code>FreCustomBehavior</code>, used for most types of behavior, but specifically the creation of non expression concepts.</li>\n\t<li><code>FreExpressionCreator</code>, used to create an expression.</li>\n\t<li><code>FreBinaryExpressionCreator</code>, used to create a binary expression.</li>\n\t<li><code>KeyboardShortcutBehavior</code>, behaviour initiated through a keystroke.</li>\n</ol>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreBehavior</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">/**\n\t * The trigger to activate this behavior\n\t */</span>\n\ttrigger<span class=\"token operator\">:</span> FreTriggerType<span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">/**\n\t * The box roles in which this trigger is active\n\t */</span>\n\tactiveInBoxRoles<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token comment\">/**\n\t * Optional callback function that returns whether the trigger is applicable for the specific box.\n\t */</span>\n\tisApplicable<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">boolean</span><span class=\"token punctuation\">;</span>\n\tboxRoleToSelect<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\tcaretPosition<span class=\"token operator\">?</span><span class=\"token operator\">:</span> FreCaret<span class=\"token punctuation\">;</span>\n\treferenceShortcut<span class=\"token operator\">?</span><span class=\"token operator\">:</span> ReferenceShortcut<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">/**\n * Behavior with custom action, intended to be used to create non expression elements.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreCustomBehavior</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FreBehavior</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token function-variable function\">action</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> editor<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">,</span> propertyName<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> FreElement <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n\tundo<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> ed<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">void</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">/**\n * Special behavior for creating an expression.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreExpressionCreator</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FreBehavior</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token function-variable function\">expressionBuilder</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> editor<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">,</span> propertyName<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> FreExpression<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">/**\n * Special behavior for creating a binary expression.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">FreBinaryExpressionCreator</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FreBehavior</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token function-variable function\">expressionBuilder</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> editor<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">,</span> propertyName<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> FreBinaryExpression<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token comment\">/**\n * Special behavior initialized by keyboard strokes.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">KeyboardShortcutBehavior</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FreBehavior</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token function-variable function\">action</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">:</span> FreKey<span class=\"token punctuation\">,</span> editor<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">,</span> propertyName<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>FreElement<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\ttrigger<span class=\"token operator\">:</span> FreKey<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span></code>`}</pre>\n<p>\n\tTo attach the behavior to one or more boxes, these box roles are added to the <code>activeInBoxRoles</code>\n\tproperty of an action.\n</p>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","sectioncomponent3_props","sectioncomponent4_props","insert_hydration","target","p0","anchor","p1","p2","p3","p4","p5","p6","p7","pre0","p8","p9","p10","pre1","ol0","p11","ul","p12","ol1","pre2","p13","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","sectioncomponent3_changes","sectioncomponent4_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","t0_value","attr","a","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","p","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}