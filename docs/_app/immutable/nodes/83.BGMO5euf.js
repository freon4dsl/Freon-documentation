import{s as Oe,A as we,a as y,e as g,H as $e,f as v,b as _,m as A,d as S,F as be,g as i,h as w,i as m,B as ke,r as je,w as _e,v as Xe,t as le,o as ie,n as Ze,j as E,C as et,D as Ve,E as z,q as We,p as Re}from"../chunks/scheduler.Cra-n4xf.js";import{S as Ue,i as Ge,e as Te,c as V,a as W,m as R,t as U,b as G,d as Y}from"../chunks/index.Bm95Nbrf.js";import{e as ye}from"../chunks/stores.Bq7jfj-I.js";import{w as tt}from"../chunks/index.B9cI0ado.js";import{P as xe,S as Ce,c as nt,B as st}from"../chunks/index.DunYcI8q.js";import{F as at}from"../chunks/Figure.DKZMymJr.js";const oe=tt([]);function ot(a){let t;return{c(){t=le("How to Handle Typing")},l(n){t=ie(n,"How to Handle Typing")},m(n,s){m(n,t,s)},d(n){n&&i(t)}}}function lt(a){let t,n,s="Types",o;return{c(){t=le("What are "),n=g("em"),n.textContent=s,o=le(", and why should you care?")},l(r){t=ie(r,"What are "),n=_(r,"EM",{"data-svelte-h":!0}),A(n)!=="svelte-d75plt"&&(n.textContent=s),o=ie(r,", and why should you care?")},m(r,f){m(r,t,f),m(r,n,f),m(r,o,f)},p:Ze,d(r){r&&(i(t),i(n),i(o))}}}function it(a){let t;return{c(){t=le("How does a concept become a Type?")},l(n){t=ie(n,"How does a concept become a Type?")},m(n,s){m(n,t,s)},d(n){n&&i(t)}}}function rt(a){let t,n,s,o,r,f,l="In this lesson you will learn how to add types to the concepts in your DSL.",c,h,P,b,L,M=`In Freon types are normal concepts, but usually types are not projected. They, normally, do not appear in .edit files. So, why are they
	important? Letâ€™s look at the screenshot below.`,I,q,F,H,Q=`Do you see the grading expression? There is an equals expression of <code>Number of Correct Answers</code>, something that clearly should
	result in an integer value, and <code>Answer to lollipops2 is correct</code>, which is obviously some boolean value. The answer is
	correct, or not. So we are comparing an integer number with a boolean value. In this case, it might be obvious that there is a mistake,
	but in more complex expressions, you might want to give the user some feedback that this is not the way to go.`,O,B,re=`So, letâ€™s introduce a Type concept. Letâ€™s keep it simple for now, but keep in mind that we might want to extend our typings. Therefore, we
	make <code>Type</code> an interface, and have one concept that implements it: <code>PrimitiveType</code>, which is a simple enumeration.
	We have also added an <code>ANY</code> instance, which represents an amorphous type that everything can conform to, like
	<code>Object</code>. There is no reason for this yet, we just want to be prepared for extensions. We add the following to our
	<code>edu-main.ast</code> file.`,D,C,k,j=`<code class="language-freon"><span class="token comment">// Education/lesson8-defs/edu-main.ast#L19-L27
</span>
<span class="token keyword">interface</span> <span class="token class-name">Type</span> &#123;
    name: <span class="token builtin">identifier</span>;
&#125;

<span class="token keyword">limited</span> PrimitiveType <span class="token keyword">implements</span> <span class="token class-name">Type</span> &#123;
    Integer;
    Boolean;
    ANY;
&#125;</code>`,$,u,T,d,x,J=`Now we have defined concepts, that will act as types in our DSL, there must be a way to tell Freon which concepts are types. And â€¦, Freon
	needs to know which concepts are <em>typed</em>, that is, which concepts have a type associated with it. Fortunately, this is simple.
	(Sorry, it is a bit lame to keep on saying that things are easy. Canâ€™t help it, they really are.
	<img src="/icons/smile.png" alt="SMILE" width="20" height="20"/> )`,K,N,Ee=`Letâ€™s create yet another file, called <code>edu-scoring.type</code>, and add the following lines to it. They mean that all instances of
	the concept <code>Type</code> are types, and that all instances of <code>ScoreExpression</code> have a type.`,ce,X,pe,Ye=`<code class="language-freon"><span class="token comment">// Education/lesson8-defs/edu-scoring.type#L1-L5
</span>
typer

<span class="token class-name">istype</span> &#123; Type &#125;

<span class="token class-name">hastype</span> &#123; ScoreExpression &#125;</code>`,ue,Z,Le=`But what about the NrOfCorrectAnswers concept? How do we express which type to associate with instances of this concept? And what about
	the other concepts that inherit from <code>ScoreExpression</code>? Letâ€™s not beat around the bush. This is how.`,fe,ee,me,ze=`<code class="language-freon"><span class="token comment">// Education/lesson8-defs/edu-scoring.type#L7-L24
</span>
<span class="token class-name">QuestionReference</span> &#123;
    <span class="token keyword">infertype</span> PrimitiveType:<span class="token class-name">Boolean</span>;
&#125;
<span class="token class-name">NrOfCorrectAnswers</span> &#123;
    <span class="token keyword">infertype</span> PrimitiveType:<span class="token class-name">Integer</span>;
&#125;
<span class="token class-name">NumberLiteralExpression</span> &#123;
    <span class="token keyword">infertype</span> PrimitiveType:<span class="token class-name">Integer</span>;
&#125;
<span class="token class-name">OrExpression</span> &#123;
    <span class="token keyword">infertype</span> PrimitiveType:<span class="token class-name">Boolean</span>;
&#125;
<span class="token class-name">AndExpression</span> &#123;
    <span class="token keyword">infertype</span> PrimitiveType:<span class="token class-name">Boolean</span>;
&#125;
<span class="token class-name">ComparisonExpression</span> &#123;
    <span class="token keyword">infertype</span> PrimitiveType:<span class="token class-name">Boolean</span>;
&#125;</code>`,he,te,He="In the next lesson we will show how to use the typings to validate the grading expressions.",de,ne,ge;t=new xe({props:{prevLink:Ie,nextLink:Ne}});function Qe(e){a[1](e)}let Pe={tag:"h1",id:"how-to-handle-typing-1",$$slots:{default:[ot]},$$scope:{ctx:a}};a[0][0]!==void 0&&(Pe.intersecting=a[0][0]),s=new Ce({props:Pe}),we.push(()=>Te(s,"intersecting",Qe));function Je(e){a[2](e)}let Se={tag:"h2",id:"what-are-types-and-why-should-you-care-2",$$slots:{default:[lt]},$$scope:{ctx:a}};a[0][1]!==void 0&&(Se.intersecting=a[0][1]),h=new Ce({props:Se}),we.push(()=>Te(h,"intersecting",Je)),q=new at({props:{imageName:"tutorial/Tutorial-lesson8-screenshot1.png",caption:"Undetected errors in grading expressions",figureNumber:1}});function Ke(e){a[3](e)}let Me={tag:"h2",id:"how-does-a-concept-become-a-type-3",$$slots:{default:[it]},$$scope:{ctx:a}};return a[0][2]!==void 0&&(Me.intersecting=a[0][2]),u=new Ce({props:Me}),we.push(()=>Te(u,"intersecting",Ke)),ne=new xe({props:{prevLink:Ie,nextLink:Ne}}),{c(){V(t.$$.fragment),n=y(),V(s.$$.fragment),r=y(),f=g("p"),f.textContent=l,c=y(),V(h.$$.fragment),b=y(),L=g("p"),L.textContent=M,I=y(),V(q.$$.fragment),F=y(),H=g("p"),H.innerHTML=Q,O=y(),B=g("p"),B.innerHTML=re,D=y(),C=g("pre"),k=new $e(!1),$=y(),V(u.$$.fragment),d=y(),x=g("p"),x.innerHTML=J,K=y(),N=g("p"),N.innerHTML=Ee,ce=y(),X=g("pre"),pe=new $e(!1),ue=y(),Z=g("p"),Z.innerHTML=Le,fe=y(),ee=g("pre"),me=new $e(!1),he=y(),te=g("p"),te.textContent=He,de=y(),V(ne.$$.fragment),this.h()},l(e){W(t.$$.fragment,e),n=v(e),W(s.$$.fragment,e),r=v(e),f=_(e,"P",{"data-svelte-h":!0}),A(f)!=="svelte-xk295"&&(f.textContent=l),c=v(e),W(h.$$.fragment,e),b=v(e),L=_(e,"P",{"data-svelte-h":!0}),A(L)!=="svelte-8u418t"&&(L.textContent=M),I=v(e),W(q.$$.fragment,e),F=v(e),H=_(e,"P",{"data-svelte-h":!0}),A(H)!=="svelte-y8aimn"&&(H.innerHTML=Q),O=v(e),B=_(e,"P",{"data-svelte-h":!0}),A(B)!=="svelte-1prndsd"&&(B.innerHTML=re),D=v(e),C=_(e,"PRE",{class:!0});var p=S(C);k=be(p,!1),p.forEach(i),$=v(e),W(u.$$.fragment,e),d=v(e),x=_(e,"P",{"data-svelte-h":!0}),A(x)!=="svelte-77fr3r"&&(x.innerHTML=J),K=v(e),N=_(e,"P",{"data-svelte-h":!0}),A(N)!=="svelte-1nz81ny"&&(N.innerHTML=Ee),ce=v(e),X=_(e,"PRE",{class:!0});var se=S(X);pe=be(se,!1),se.forEach(i),ue=v(e),Z=_(e,"P",{"data-svelte-h":!0}),A(Z)!=="svelte-18li9rj"&&(Z.innerHTML=Le),fe=v(e),ee=_(e,"PRE",{class:!0});var ae=S(ee);me=be(ae,!1),ae.forEach(i),he=v(e),te=_(e,"P",{"data-svelte-h":!0}),A(te)!=="svelte-rcjfsw"&&(te.textContent=He),de=v(e),W(ne.$$.fragment,e),this.h()},h(){k.a=null,w(C,"class","language-freon"),pe.a=null,w(X,"class","language-freon"),me.a=null,w(ee,"class","language-freon")},m(e,p){R(t,e,p),m(e,n,p),R(s,e,p),m(e,r,p),m(e,f,p),m(e,c,p),R(h,e,p),m(e,b,p),m(e,L,p),m(e,I,p),R(q,e,p),m(e,F,p),m(e,H,p),m(e,O,p),m(e,B,p),m(e,D,p),m(e,C,p),k.m(j,C),m(e,$,p),R(u,e,p),m(e,d,p),m(e,x,p),m(e,K,p),m(e,N,p),m(e,ce,p),m(e,X,p),pe.m(Ye,X),m(e,ue,p),m(e,Z,p),m(e,fe,p),m(e,ee,p),me.m(ze,ee),m(e,he,p),m(e,te,p),m(e,de,p),R(ne,e,p),ge=!0},p(e,[p]){const se={};p&32&&(se.$$scope={dirty:p,ctx:e}),!o&&p&1&&(o=!0,se.intersecting=e[0][0],ke(()=>o=!1)),s.$set(se);const ae={};p&32&&(ae.$$scope={dirty:p,ctx:e}),!P&&p&1&&(P=!0,ae.intersecting=e[0][1],ke(()=>P=!1)),h.$set(ae);const ve={};p&32&&(ve.$$scope={dirty:p,ctx:e}),!T&&p&1&&(T=!0,ve.intersecting=e[0][2],ke(()=>T=!1)),u.$set(ve)},i(e){ge||(U(t.$$.fragment,e),U(s.$$.fragment,e),U(h.$$.fragment,e),U(q.$$.fragment,e),U(u.$$.fragment,e),U(ne.$$.fragment,e),ge=!0)},o(e){G(t.$$.fragment,e),G(s.$$.fragment,e),G(h.$$.fragment,e),G(q.$$.fragment,e),G(u.$$.fragment,e),G(ne.$$.fragment,e),ge=!1},d(e){e&&(i(n),i(r),i(f),i(c),i(b),i(L),i(I),i(F),i(H),i(O),i(B),i(D),i(C),i($),i(d),i(x),i(K),i(N),i(ce),i(X),i(ue),i(Z),i(fe),i(ee),i(he),i(te),i(de)),Y(t,e),Y(s,e),Y(h,e),Y(q,e),Y(u,e),Y(ne,e)}}}let Ie="/Tutorial/More_Scoping",Ne="/Tutorial/Validating_the_model";function ct(a,t,n){let s;je(a,oe,c=>n(4,s=c)),_e(oe,s=[{title:"How to Handle Typing",visible:!1,ref:"#how-to-handle-typing-1"},{title:"What are Types, and why should you care?",visible:!1,ref:"#what-are-types-and-why-should-you-care-2"},{title:"How does a concept become a Type?",visible:!1,ref:"#how-does-a-concept-become-a-type-3"}],s);let o=[];Xe(()=>{document.querySelectorAll("pre").forEach(h=>{const P=document.createElement("div");P.className="copy-prompt";const b=document.createElement("p");b.innerHTML="ðŸ‘† Click to copy",b.className="copy-prompt-p";const L=document.createElement("img");L.src="/icons/copy-icon.svg",L.className="copy-prompt-img",P.appendChild(L),P.appendChild(b),h.appendChild(P),h.querySelector(".copy-prompt > p").addEventListener("click",M=>{nt(h.querySelector("code").textContent),h.querySelector(".copy-prompt > p").innerHTML="Copied!",setTimeout(()=>{h.querySelector(".copy-prompt > p").innerHTML="ðŸ‘† Click to copy"},1e3)})})});function r(c){a.$$.not_equal(o[0],c)&&(o[0]=c,n(0,o))}function f(c){a.$$.not_equal(o[1],c)&&(o[1]=c,n(0,o))}function l(c){a.$$.not_equal(o[2],c)&&(o[2]=c,n(0,o))}return a.$$.update=()=>{a.$$.dirty&1&&_e(oe,s[0].visible=o[0],s),a.$$.dirty&1&&_e(oe,s[1].visible=o[1],s),a.$$.dirty&1&&_e(oe,s[2].visible=o[2],s)},[o,r,f,l]}class pt extends Ue{constructor(t){super(),Ge(this,t,ct,rt,Oe,{})}}function Ae(a,t,n){const s=a.slice();return s[6]=t[n],s[8]=n,s}function qe(a,t,n){const s=a.slice();return s[6]=t[n],s[8]=n,s}function ut(a){let t,n;return{c(){t=g("img"),this.h()},l(s){t=_(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){w(t,"class","page-toc-small-img"),Re(t.src,n="/icons/down-arrow.png")||w(t,"src",n),w(t,"alt","arrow down")},m(s,o){m(s,t,o)},d(s){s&&i(t)}}}function ft(a){let t,n;return{c(){t=g("img"),this.h()},l(s){t=_(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){w(t,"class","page-toc-small-img"),Re(t.src,n="/icons/upload.png")||w(t,"src",n),w(t,"alt","arrow up")},m(s,o){m(s,t,o)},d(s){s&&i(t)}}}function Be(a){let t,n,s=ye(a[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=De(qe(a,s,r));return{c(){t=g("div"),n=g("ul");for(let r=0;r<o.length;r+=1)o[r].c();this.h()},l(r){t=_(r,"DIV",{class:!0});var f=S(t);n=_(f,"UL",{class:!0});var l=S(n);for(let c=0;c<o.length;c+=1)o[c].l(l);l.forEach(i),f.forEach(i),this.h()},h(){w(n,"class","page-ul"),w(t,"class","toc-details")},m(r,f){m(r,t,f),E(t,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(n,null)},p(r,f){if(f&5){s=ye(r[0]);let l;for(l=0;l<s.length;l+=1){const c=qe(r,s,l);o[l]?o[l].p(c,f):(o[l]=De(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=s.length}},d(r){r&&i(t),Ve(o,r)}}}function De(a){let t,n,s=a[6].title+"",o,r,f;return{c(){t=g("li"),n=g("a"),o=le(s),f=y(),this.h()},l(l){t=_(l,"LI",{class:!0});var c=S(t);n=_(c,"A",{href:!0});var h=S(n);o=ie(h,s),h.forEach(i),f=v(c),c.forEach(i),this.h()},h(){w(n,"href",r=a[6].ref),z(n,"page-visible",a[8]===a[2]),z(n,"page-nonvisible",a[8]!==a[2]),w(t,"class","page-toc-text")},m(l,c){m(l,t,c),E(t,n),E(n,o),E(t,f)},p(l,c){c&1&&s!==(s=l[6].title+"")&&We(o,s),c&1&&r!==(r=l[6].ref)&&w(n,"href",r),c&4&&z(n,"page-visible",l[8]===l[2]),c&4&&z(n,"page-nonvisible",l[8]!==l[2])},d(l){l&&i(t)}}}function Fe(a){let t,n,s=a[6].title+"",o,r,f;return{c(){t=g("li"),n=g("a"),o=le(s),f=y(),this.h()},l(l){t=_(l,"LI",{class:!0});var c=S(t);n=_(c,"A",{href:!0});var h=S(n);o=ie(h,s),h.forEach(i),f=v(c),c.forEach(i),this.h()},h(){w(n,"href",r=a[6].ref),z(n,"page-visible",a[8]===a[2]),z(n,"page-nonvisible",a[8]!==a[2]),w(t,"class","page-toc-text")},m(l,c){m(l,t,c),E(t,n),E(n,o),E(t,f)},p(l,c){c&1&&s!==(s=l[6].title+"")&&We(o,s),c&1&&r!==(r=l[6].ref)&&w(n,"href",r),c&4&&z(n,"page-visible",l[8]===l[2]),c&4&&z(n,"page-nonvisible",l[8]!==l[2])},d(l){l&&i(t)}}}function mt(a){let t,n,s,o="On this page ...",r,f,l,c,h,P,b,L,M,I,q="On this page",F,H,Q,O,B;function re(u,T){return u[1]?ft:ut}let D=re(a),C=D(a),k=a[1]&&Be(a);h=new st({}),b=new pt({});let j=ye(a[0]),$=[];for(let u=0;u<j.length;u+=1)$[u]=Fe(Ae(a,j,u));return{c(){t=g("div"),n=g("div"),s=g("p"),s.textContent=o,r=y(),f=g("button"),C.c(),l=y(),k&&k.c(),c=y(),V(h.$$.fragment),P=y(),V(b.$$.fragment),L=y(),M=g("nav"),I=g("h3"),I.textContent=q,F=y(),H=g("ul");for(let u=0;u<$.length;u+=1)$[u].c();this.h()},l(u){t=_(u,"DIV",{class:!0});var T=S(t);n=_(T,"DIV",{class:!0});var d=S(n);s=_(d,"P",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-1929lhs"&&(s.textContent=o),r=v(d),f=_(d,"BUTTON",{class:!0});var x=S(f);C.l(x),x.forEach(i),d.forEach(i),l=v(T),k&&k.l(T),c=v(T),W(h.$$.fragment,T),P=v(T),W(b.$$.fragment,T),T.forEach(i),L=v(u),M=_(u,"NAV",{class:!0});var J=S(M);I=_(J,"H3",{class:!0,"data-svelte-h":!0}),A(I)!=="svelte-1hgt7fi"&&(I.textContent=q),F=v(J),H=_(J,"UL",{class:!0});var K=S(H);for(let N=0;N<$.length;N+=1)$[N].l(K);K.forEach(i),J.forEach(i),this.h()},h(){w(s,"class","page-toc-small-title"),w(f,"class","page-toc-small-expand-button"),w(n,"class","page-toc-small"),w(t,"class","page-main"),w(I,"class","page-toc-title"),w(H,"class","page-ul"),w(M,"class","page-toc")},m(u,T){m(u,t,T),E(t,n),E(n,s),E(n,r),E(n,f),C.m(f,null),E(t,l),k&&k.m(t,null),E(t,c),R(h,t,null),E(t,P),R(b,t,null),m(u,L,T),m(u,M,T),E(M,I),E(M,F),E(M,H);for(let d=0;d<$.length;d+=1)$[d]&&$[d].m(H,null);Q=!0,O||(B=et(f,"click",a[4]),O=!0)},p(u,[T]){if(D!==(D=re(u))&&(C.d(1),C=D(u),C&&(C.c(),C.m(f,null))),u[1]?k?k.p(u,T):(k=Be(u),k.c(),k.m(t,c)):k&&(k.d(1),k=null),T&5){j=ye(u[0]);let d;for(d=0;d<j.length;d+=1){const x=Ae(u,j,d);$[d]?$[d].p(x,T):($[d]=Fe(x),$[d].c(),$[d].m(H,null))}for(;d<$.length;d+=1)$[d].d(1);$.length=j.length}},i(u){Q||(U(h.$$.fragment,u),U(b.$$.fragment,u),Q=!0)},o(u){G(h.$$.fragment,u),G(b.$$.fragment,u),Q=!1},d(u){u&&(i(t),i(L),i(M)),C.d(),k&&k.d(),Y(h),Y(b),Ve($,u),O=!1,B()}}}function ht(a,t,n){let s,o;je(a,oe,h=>n(0,o=h));let r=!1;function f(h){let P=s;for(let b=0;b<h.length;b++)if(h[b].visible)return b;return P}function l(){n(1,r=!r)}const c=()=>{l()};return a.$$.update=()=>{a.$$.dirty&1&&n(2,s=f(o))},[o,r,s,l,c]}class $t extends Ue{constructor(t){super(),Ge(this,t,ht,mt,Oe,{})}}export{$t as component};
//# sourceMappingURL=83.BGMO5euf.js.map
