{"version":3,"file":"35.BEBb4BBY.js","sources":["../../../../../../src/routes/Documentation/Defining_an_Editor/Ease_of_Editing/SectionStore.ts","../../../../../../src/routes/Documentation/Defining_an_Editor/Ease_of_Editing/PageContent.svelte","../../../../../../src/routes/Documentation/Defining_an_Editor/Ease_of_Editing/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'Ease of Editing', visible: false, ref: '#ease-of-editing-1' },\n\t\t{ title: 'Reference Shortcuts', visible: false, ref: '#reference-shortcuts-2' },\n\t\t{ title: 'Triggers', visible: false, ref: '#triggers-3' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = 'ðŸ‘† Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'ðŸ‘† Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Defining_an_Editor/Indentation';\n\tlet nextLink = '/Documentation/Defining_an_Editor/Boolean_Projections';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n<SectionComponent tag=\"h1\" id=\"ease-of-editing-1\" bind:intersecting={visible[0]}>Ease of Editing</SectionComponent>\n<p>As language engineer, you can make editing a little bit easier for your users. Freon offers two options to do so.</p>\n<SectionComponent tag=\"h2\" id=\"reference-shortcuts-2\" bind:intersecting={visible[1]}>Reference Shortcuts</SectionComponent>\n<p>\n\tIn the actual abstract syntax tree, a reference property is stored as a node that holds the information on, and link to, the referred\n\tnode. The type of this node is <code>FreNodeReference</code>. When creating a new reference property, this means that two actions need to\n\tbe executed by Freon. First, the <code>FreNodeReference</code> instance needs to be created, and second, the link needs to be established\n\tbetween this <code>FreNodeReference</code> instance and the node that is referred to.\n</p>\n<p>\n\tTo avoid exposing this two-step process to the user, the language engineer may define a <strong>reference shortcut</strong>. This is a\n\tproperty of the concept that is named directly, and when selected by the user causes this two-step process to be performed as one. This\n\tcan be useful, especially when dealing with expressions.\n</p>\n<p>Our running example provides the expression concept <code>InsurancePartRef</code>.</p>\n<pre\n\tclass=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/language-expressions.ast#L54-L57\n</span>\n<span class=\"token comment\">// Expression used to refer to the insurance parts of a product\n</span><span class=\"token keyword\">expression</span> InsurancePartRef <span class=\"token keyword\">base</span> <span class=\"token class-name\">DocuExpression</span> &#123;\n    <span class=\"token keyword\">reference</span> part: <span class=\"token class-name\">InsurancePart</span>;\n&#125;</code>`}</pre>\n<p>For this concept the following projection is defined.</p>\n<pre\n\tclass=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/editor-expressions-default.edit#L35-L38\n</span>\n<span class=\"token class-name\">InsurancePartRef</span> &#123;\n    <span class=\"token punctuation\">[</span>$&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.part</span>&#125;<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">referenceShortcut</span> = $&#123;<span class=\"token function\"><span class=\"token variable\">self</span>.part</span>&#125;\n&#125;</code>`}</pre>\n<SectionComponent tag=\"h2\" id=\"triggers-3\" bind:intersecting={visible[2]}>Triggers</SectionComponent>\n<p>\n\tWhen the user wants to create an instance of a concept using the keyboard, a special character or string of characters can be used to\n\ttrigger the creation of that instance. This makes it easier to enter an expression in the projectional editor, similar to entering that\n\texpression in a text-based editor. The character or string of characters is called a <strong>trigger</strong>.\n</p>\n<p>The example shows a trigger for entering a function call expression.</p>\n<pre\n\tclass=\"language-freon\">{@html `<code class=\"language-freon\"><span class=\"token comment\">// Insurance/src/defs/editor-expressions-default.edit#L30-L34\n</span>\n<span class=\"token class-name\">FunctionCallExpression</span> &#123;\n    <span class=\"token punctuation\">[</span>$&#123;<span class=\"token function\">funcDefinition</span>&#125; ( $&#123;<span class=\"token function\">args <span class=\"token keyword\">horizontal</span> <span class=\"token keyword\">separator</span>[,] </span>&#125; )<span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">referenceShortcut</span> = $&#123;<span class=\"token function\">funcDefinition</span>&#125;\n    <span class=\"token keyword\">trigger</span> = <span class=\"token string\">\"calc\"</span>\n&#125;</code>`}</pre>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","insert_hydration","target","p0","anchor","p1","p2","p3","pre0","p4","pre1","p5","p6","pre2","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","ul","t0_value","attr","a","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","p","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}