{"version":3,"file":"25.DW_AIQEN.js","sources":["../../../../../../src/routes/Documentation/Customizations/Editor_Customization/SectionStore.ts","../../../../../../src/routes/Documentation/Customizations/Editor_Customization/PageContent.svelte","../../../../../../src/routes/Documentation/Customizations/Editor_Customization/+page.svelte"],"sourcesContent":["import { writable, type Writable } from 'svelte/store';\nimport type { Section } from '$lib/section/SectionType';\n\nexport const mySections: Writable<Section[]> = writable<Section[]>([]);\n","<script lang=\"ts\">\n\timport SectionComponent from '$lib/section/SectionComponent.svelte';\n\timport { mySections } from './SectionStore.js';\n\t$mySections = [\n\t\t{ title: 'Editor Customization', visible: false, ref: '#editor-customization-1' },\n\t\t{ title: 'The Generated Box Providers', visible: false, ref: '#the-generated-box-providers-2' },\n\t\t{ title: 'Writing a Custom Projection', visible: false, ref: '#writing-a-custom-projection-3' },\n\t\t{ title: 'Writing Custom Actions', visible: false, ref: '#writing-custom-actions-4' }\n\t];\n\tlet visible: boolean[] = [];\n\t$: $mySections[0].visible = visible[0];\n\t$: $mySections[1].visible = visible[1];\n\t$: $mySections[2].visible = visible[2];\n\t$: $mySections[3].visible = visible[3];\n\timport copy from 'copy-to-clipboard';\n\timport { onMount } from 'svelte';\n\n\t/**\n\t * This function will go through all the 'pre' elements\n\t * on the page and add a copy button to them.\n\t * Thanks to: https://slavbasharov.com/blog/adding-click-to-copy-code-markdown-blog\n\t */\n\tonMount(() => {\n\t\tconst codeBlocks = document.querySelectorAll('pre');\n\t\tcodeBlocks.forEach((block) => {\n\t\t\tconst copyPrompt = document.createElement('div');\n\t\t\tcopyPrompt.className = 'copy-prompt';\n\t\t\tconst copyPromptText = document.createElement('p');\n\t\t\tcopyPromptText.innerHTML = '👆 Click to copy';\n\t\t\tcopyPromptText.className = 'copy-prompt-p';\n\t\t\tconst copyIcon = document.createElement('img');\n\t\t\tcopyIcon.src = '/icons/copy-icon.svg';\n\t\t\tcopyIcon.className = 'copy-prompt-img';\n\t\t\tcopyPrompt.appendChild(copyIcon);\n\t\t\tcopyPrompt.appendChild(copyPromptText);\n\t\t\tblock.appendChild(copyPrompt);\n\t\t\tblock.querySelector('.copy-prompt > p').addEventListener('click', (evt) => {\n\t\t\t\tcopy(block.querySelector('code').textContent);\n\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = 'Copied!';\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tblock.querySelector('.copy-prompt > p').innerHTML = '👆 Click to copy';\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t});\n\t});\n\timport PrevNextSection from '$lib/prevNext/PrevNextSection.svelte';\n\n\tlet prevLink = '/Documentation/Customizations';\n\tlet nextLink = '/Documentation/Customizations/External_Components';\n\n\timport Note from '$lib/notes/Note.svelte';\n\timport Figure from '$lib/figures/Figure.svelte';\n</script>\n\n<PrevNextSection {prevLink} {nextLink} />\n\n<SectionComponent tag=\"h1\" id=\"editor-customization-1\" bind:intersecting={visible[0]}>Editor Customization</SectionComponent>\n<p>\n\tEditor customization can be done by adding projections, actions, and/or external Svelte components. But before you dive into all this, we\n\tsuggest that you become familiar with the information on the Box model, as explained in the <a\n\t\thref=\"/Documentation/Under_the_Hood/Editor_Framework\">Freon Editor Framework</a\n\t>.\n</p>\n<SectionComponent tag=\"h2\" id=\"the-generated-box-providers-2\" bind:intersecting={visible[1]}>The Generated Box Providers</SectionComponent>\n<p>\n\tThe generated editor is implemented by a set of <strong>box providers</strong>. Every box provider is capable of returning the box for a\n\tspecific type of AST node. For instance, the generated box provider for the <code>EuroLiteral</code>\n\tconcept contains the following to methods.\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// Insurance/src/freon/editor/gen/EuroLiteralBoxProvider.ts#L22-L62</span>\n\n    <span class=\"token keyword\">protected</span> <span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span>projectionName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Box <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token comment\">// console.log(\"GET CONTENT \" + this._node?.freId() + ' ' +  this._node?.freLanguageConcept() + ' ' + projectionName);</span>\n        <span class=\"token comment\">// see if we need to use a custom projection</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>knownBoxProjections<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>projectionName<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>knownTableProjections<span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>projectionName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token keyword\">const</span> <span class=\"token constant\">BOX</span><span class=\"token operator\">:</span> Box <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>mainHandler<span class=\"token punctuation\">.</span><span class=\"token function\">executeCustomProjection</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node<span class=\"token punctuation\">,</span> projectionName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token constant\">BOX</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token comment\">// found one, so return it</span>\n                <span class=\"token keyword\">return</span> <span class=\"token constant\">BOX</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// select the box to return based on the projectionName</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>projectionName <span class=\"token operator\">===</span> <span class=\"token string\">\"default\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token punctuation\">&#125;</span>\n        <span class=\"token comment\">// in all other cases, return the default</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token function\">getDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Box <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">createDefaultExpressionBox</span><span class=\"token punctuation\">(</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node <span class=\"token keyword\">as</span> EuroLiteral<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">[</span>\n                BoxFactory<span class=\"token punctuation\">.</span><span class=\"token function\">horizontalLayout</span><span class=\"token punctuation\">(</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node <span class=\"token keyword\">as</span> EuroLiteral<span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">\"EuroLiteral-hlist-line-0\"</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">[</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">labelBox</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node <span class=\"token keyword\">as</span> EuroLiteral<span class=\"token punctuation\">,</span> <span class=\"token string\">\"EUR\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"top-1-line-0-item-0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">numberBox</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node <span class=\"token keyword\">as</span> EuroLiteral<span class=\"token punctuation\">,</span> <span class=\"token string\">\"euros\"</span><span class=\"token punctuation\">,</span> NumberDisplay<span class=\"token punctuation\">.</span><span class=\"token constant\">SELECT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">labelBox</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node <span class=\"token keyword\">as</span> EuroLiteral<span class=\"token punctuation\">,</span> <span class=\"token string\">\",\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"top-1-line-0-item-2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">numberBox</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>_node <span class=\"token keyword\">as</span> EuroLiteral<span class=\"token punctuation\">,</span> <span class=\"token string\">\"cents\"</span><span class=\"token punctuation\">,</span> NumberDisplay<span class=\"token punctuation\">.</span><span class=\"token constant\">SELECT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">&#123;</span> selectable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">&#123;</span> selectable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n</code>`}</pre>\n<p>\n\tThe first method shows that any custom projection is always handled first. The second method is an example of a method that returns a Box\n\tbased on the current content of <code>this._node</code>. Note that the implementation replies on heavily on a number of\n\t<a href=\"/Documentation/Under_the_Hood/Editor_Framework/Predefined_Boxes\">predefined box types</a>, as well as on the predefined method\n\t<code>createDefaultExpressionBox</code>, which returns the correct box for a (non-binary) expression concept.\n</p>\n<SectionComponent tag=\"h2\" id=\"writing-a-custom-projection-3\" bind:intersecting={visible[2]}>Writing a Custom Projection</SectionComponent>\n<p>\n\tWriting a custom projection does not require the implementation of a complete box provider. Instead, a custom projection (set) is\n\tbasically a series of methods that each return a box object for an AST node. Every custom method need to be registered. This is done in\n\tthe property <code>nodeTypeToBoxMethod</code>.\n</p>\n<p>Sorry, but custom table projections are not yet taken into account.</p>\n<p>\n\tIn the below example, a copy is taken of the <code>getDefault</code> method above, which is adjusted to display an SVG Euro symbol instead\n\tof the string ‘EUR’. Note that the method is registered to be used for concepts of type <code>EuroLiteral</code>.\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// Insurance/src/custom/editor/CustomInsuranceModelProjection.ts#L24-L79</span>\n\n<span class=\"token keyword\">const</span> euroIcon <span class=\"token operator\">=</span> <span class=\"token string\">\"M640 789.333333c-106.88 0-199.68-60.586667-245.973333-149.333333H640v-85.333333H366.293333c-2.133333-13.866667-3.626667-28.16-3.626666-42.666667s1.493333-28.8 3.626666-42.666667H640v-85.333333H394.026667c46.293333-88.746667 138.88-149.333333 245.973333-149.333333 68.906667 0 131.84 25.173333 180.266667 66.773333L896 226.133333A382.72 382.72 0 0 0 640 128c-167.04 0-308.906667 106.88-361.6 256H128v85.333333h130.56c-1.706667 14.08-2.56 28.16-2.56 42.666667 0 14.506667 0.853333 28.586667 2.56 42.666667H128v85.333333h150.4c52.693333 149.12 194.56 256 361.6 256 98.346667 0 188.16-37.333333 256-98.133333l-75.733333-75.52A275.818667 275.818667 0 0 1 640 789.333333z\"</span>\n\n<span class=\"token comment\">/**\n * Class CustomInsuranceModelProjection provides an entry point for the language engineer to\n * define custom build additions to the editor.\n * These are merged with the custom build additions and other definition-based editor parts\n * in a three-way manner. For each modelelement,\n * (1) if a custom build creator/behavior is present, this is used,\n * (2) if a creator/behavior based on one of the editor definition is present, this is used,\n * (3) if neither (1) nor (2) yields a result, the default is used.\n */</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomInsuranceModelProjection</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">FreProjection</span> <span class=\"token punctuation\">&#123;</span>\n    name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Euro-symbol\"</span><span class=\"token punctuation\">;</span>\n    nodeTypeToBoxMethod<span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span> FreNode<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Box<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span> FreNode<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></span> Box<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token comment\">// register your custom box methods here</span>\n        <span class=\"token punctuation\">[</span><span class=\"token string\">'EuroLiteral'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>EuroLiteralWithSVG<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    nodeTypeToTableDefinition<span class=\"token operator\">:</span> Map<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> FreTableDefinition<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Map<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></span> FreTableDefinition<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n        <span class=\"token comment\">// register your custom table definition methods here</span>\n        <span class=\"token comment\">// ['NAME_OF_CONCEPT', this.TABLE_DEFINITION_FOR_CONCEPT],</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// add your custom methods here</span>\n\n    <span class=\"token comment\">// BOX_FOR_CONCEPT(node: NAME_OF_CONCEPT) : Box &#123; ... &#125;</span>\n    <span class=\"token function\">EuroLiteralWithSVG</span><span class=\"token punctuation\">(</span>node<span class=\"token operator\">:</span> EuroLiteral<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Box <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">createDefaultExpressionBox</span><span class=\"token punctuation\">(</span>\n            node<span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">[</span>\n                BoxFactory<span class=\"token punctuation\">.</span><span class=\"token function\">horizontalLayout</span><span class=\"token punctuation\">(</span>\n                    node<span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">\"EuroLiteral-hlist-line-0\"</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">[</span>\n                        <span class=\"token keyword\">new</span> <span class=\"token class-name\">SvgBox</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">\"euro-icon\"</span><span class=\"token punctuation\">,</span> euroIcon<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span>\n                            viewPortWidth<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n                            viewPortHeight<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n                            viewBoxWidth<span class=\"token operator\">:</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">,</span>\n                            viewBoxHeight<span class=\"token operator\">:</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">,</span>\n                            selectable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n                        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">numberBox</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">\"euros\"</span><span class=\"token punctuation\">,</span> NumberDisplay<span class=\"token punctuation\">.</span><span class=\"token constant\">SELECT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">labelBox</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">\",\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"top-1-line-0-item-2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        BoxUtil<span class=\"token punctuation\">.</span><span class=\"token function\">numberBox</span><span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">,</span> <span class=\"token string\">\"cents\"</span><span class=\"token punctuation\">,</span> NumberDisplay<span class=\"token punctuation\">.</span><span class=\"token constant\">SELECT</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n                    <span class=\"token punctuation\">&#123;</span> selectable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">&#123;</span> selectable<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">&#125;</span>\n\n    <span class=\"token comment\">// TABLE_DEFINITION_FOR_CONCEPT() : FreTableDefinition &#123; ... &#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n</code>`}</pre>\n<Note\n\t><svelte:fragment slot=\"header\">Use another filename and/or location</svelte:fragment>\n\t<svelte:fragment slot=\"content\">\n\t\tYou can rename the file <code>~/freon/editor/CustomYourLanguageNameProjection.ts</code>, and/or put it in another location. In that\n\t\tcase, you need to adjust the file <code>~/freon/config/FreonConfiguration</code>. See\n\t\t<a href=\"/Documentation/Customizations#adding-typeScript-files-4\">Adding TypeScript Files</a>.\n\t</svelte:fragment>\n</Note>\n<SectionComponent tag=\"h2\" id=\"writing-custom-actions-4\" bind:intersecting={visible[3]}>Writing Custom Actions</SectionComponent>\n<p>\n\tWhen you have created your own custom projection, this projection is exactly that: a projection. Other than the built-in default behavior,\n\tthere are no actions defined yet. Actions are necessary to enable the user to change the model and add elements to it. The projections\n\tonly describe what you will see in the editor. Actions determine what you can do, how you interact with the editor.\n</p>\n<p>\n\tAs a convenience, the file <code>~/freon/editor/CustomYourLanguageNameActions.ts</code> is generated, which is a placeholder for your own\n\tactions written in TypeScript. This file contains two constants for different kind of actions. The constant\n\t<code>MANUAL_CUSTOM_ACTIONS</code> is an array that contains all actions to be performed on normal concepts. Actions on binary expressions\n\tshould be added to the array\n\t<code>MANUAL_BINARY_EXPRESSION_ACTIONS</code>. When you define these constants, Freon will merge your actions with the default actions.\n</p>\n<p>\n\tAny <code>CustomAction</code> must implement the\n\t<a href=\"/Documentation/Under_the_Hood/Core_Interfaces#frecustomaction-4\"><code>FreCustomAction</code></a>\n\tinterface. An easy way to create it, is using the predefined method <code>FreCustomAction.create()</code>, which takes a partial\n\t<code>CustomAction</code>\n\tobject as parameter. The most important properties of the <code>CustomAction</code>\n\tobject are the action itself, and the box roles, indicating where the action could be activated.\n</p>\n<p>\n\tIn the example below two actions are added, one for the button that was added to the <code>BaseProduct</code> projection in\n\t<a href=\"/Documentation/Defining_an_Editor/Buttons#adding-buttons-1\">Buttons</a>, and one for the buttons that were added to the table\n\tprojection of <code>InsurancePart</code> concepts in <a href=\"/Documentation/Defining_an_Editor/Buttons#icon-buttons-2\">Icon Buttons</a>.\n\tThe first was defined with the box role “MyButton-role”, the second with “MyTableButton-role”. The implementation of the action is here a\n\tsimple alert with a message to the user.\n</p>\n<pre\n\tclass=\"language-ts\">{@html `<code class=\"language-ts\"><span class=\"token comment\">// Insurance/src/custom/editor/CustomInsuranceModelActions.ts#L19-L82</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CustomInsuranceModelActions</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">FreCombinedActions</span> <span class=\"token punctuation\">&#123;</span>\n    binaryExpressionActions<span class=\"token operator\">:</span> FreCreateBinaryExpressionAction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token constant\">MANUAL_BINARY_EXPRESSION_ACTIONS</span><span class=\"token punctuation\">;</span>\n    customActions<span class=\"token operator\">:</span> FreCustomAction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token constant\">MANUAL_CUSTOM_ACTIONS</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">MANUAL_BINARY_EXPRESSION_ACTIONS</span><span class=\"token operator\">:</span> FreCreateBinaryExpressionAction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// Add your own custom binary expression actions here</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token constant\">MANUAL_CUSTOM_ACTIONS</span><span class=\"token operator\">:</span> FreCustomAction<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// Add your own custom behavior here</span>\n    FreCustomAction<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n        activeInBoxRoles<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"MyButton-role\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        action<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">:</span> FreTriggerType<span class=\"token punctuation\">,</span> ed<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> FreNode <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// do something</span>\n            <span class=\"token keyword\">const</span> thisNode<span class=\"token operator\">:</span> FreNode <span class=\"token operator\">=</span> box<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// const thisParent: FreNode = box.element.freOwner();</span>\n            <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"You shouldn't have pushed the button with role 'MyButton-role' on element \"</span> <span class=\"token operator\">+</span> thisNode<span class=\"token punctuation\">.</span><span class=\"token function\">freId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".&#92;nPunishment awaits !!!!!!!!!!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    FreCustomAction<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span>\n        activeInBoxRoles<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"MyTableButton-role\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        action<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>box<span class=\"token operator\">:</span> Box<span class=\"token punctuation\">,</span> trigger<span class=\"token operator\">:</span> FreTriggerType<span class=\"token punctuation\">,</span> ed<span class=\"token operator\">:</span> FreEditor<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> FreNode <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">// do something</span>\n            <span class=\"token keyword\">const</span> thisNode<span class=\"token operator\">:</span> FreNode <span class=\"token operator\">=</span> box<span class=\"token punctuation\">.</span>node<span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// const thisParent: FreNode = box.element.freOwner();</span>\n            <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"You shouldn't have pushed the button with role 'MyTableButton-role' on element \"</span> <span class=\"token operator\">+</span> thisNode<span class=\"token punctuation\">.</span><span class=\"token function\">freId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\".&#92;nPunishment awaits !!!!!!!!!!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code>`}</pre>\n\n<PrevNextSection {prevLink} {nextLink} />\n","<script lang=\"ts\">\n\timport { mySections } from './SectionStore.js';\n\timport type { Section } from '$lib/section/SectionType.js';\n\timport PageContent from './PageContent.svelte';\n\timport Breadcrumb from '$lib/breadcrumbs/Breadcrumb.svelte';\n\n\tlet showDetails: boolean = false;\n\t$: current = getCurrent($mySections);\n\n\tfunction getCurrent(internalSections: Section[]): number {\n\t\tlet previous = current;\n\t\tfor (let i = 0; i < internalSections.length; i++) {\n\t\t\tif (internalSections[i].visible) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn previous;\n\t}\n\tfunction toggleTocDetails() {\n\t\tshowDetails = !showDetails;\n\t}\n</script>\n\n<div class=\"page-main\">\n\t<div class=\"page-toc-small\">\n\t\t<p class=\"page-toc-small-title\">On this page ...</p>\n\t\t<button\n\t\t\tclass=\"page-toc-small-expand-button\"\n\t\t\ton:click={() => {\n\t\t\t\ttoggleTocDetails();\n\t\t\t}}\n\t\t>\n\t\t\t{#if showDetails}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/upload.png\" alt=\"arrow up\" />\n\t\t\t{:else}\n\t\t\t\t<img class=\"page-toc-small-img\" src=\"/icons/down-arrow.png\" alt=\"arrow down\" />\n\t\t\t{/if}\n\t\t</button>\n\t</div>\n\t{#if showDetails}\n\t\t<div class=\"toc-details\">\n\t\t\t<ul class=\"page-ul\">\n\t\t\t\t{#each $mySections as sec, index}\n\t\t\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t\t\t{sec.title}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t{/each}\n\t\t\t</ul>\n\t\t</div>\n\t{/if}\n\n\t<Breadcrumb />\n\t<PageContent />\n</div>\n\n<nav class=\"page-toc\">\n\t<h3 class=\"page-toc-title\">On this page</h3>\n\t<ul class=\"page-ul\">\n\t\t{#each $mySections as sec, index}\n\t\t\t<li class=\"page-toc-text\">\n\t\t\t\t<a class:page-visible={index === current} class:page-nonvisible={index !== current} href={sec.ref}>\n\t\t\t\t\t{sec.title}\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t{/each}\n\t</ul>\n</nav>\n"],"names":["mySections","writable","insert_hydration","target","code0","anchor","code1","a","ctx","sectioncomponent0_props","sectioncomponent1_props","sectioncomponent2_props","sectioncomponent3_props","p0","p1","pre0","p2","p3","p4","p5","pre1","p6","p7","p8","p9","pre2","sectioncomponent0_changes","sectioncomponent1_changes","sectioncomponent2_changes","sectioncomponent3_changes","prevLink","nextLink","$mySections","visible","onMount","block","copyPrompt","copyPromptText","copyIcon","evt","copy","$$self","value","set_store_value","img","i","div","append_hydration","ul","t0_value","attr","a_href_value","toggle_class","li","dirty","set_data","t0","create_if_block_1","create_if_block","div1","div0","p","button","nav","h3","showDetails","getCurrent","internalSections","previous","current","toggleTocDetails","$$invalidate"],"mappings":"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"}