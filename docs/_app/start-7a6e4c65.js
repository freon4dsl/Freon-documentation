var ce=Object.defineProperty,ue=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var X=(_,e,t)=>e in _?ce(_,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):_[e]=t,I=(_,e)=>{for(var t in e||(e={}))Q.call(e,t)&&X(_,t,e[t]);if(q)for(var t of q(e))Z.call(e,t)&&X(_,t,e[t]);return _},B=(_,e)=>ue(_,fe(e));var ee=(_,e)=>{var t={};for(var s in _)Q.call(_,s)&&e.indexOf(s)<0&&(t[s]=_[s]);if(_!=null&&q)for(var s of q(_))e.indexOf(s)<0&&Z.call(_,s)&&(t[s]=_[s]);return t};import{S as de,i as he,s as pe,e as ge,c as me,a as ve,d as P,b as z,f as O,g as k,t as Ee,h as we,j as be,k as $e,l as w,m as Ie,n as U,o as b,p as j,q as $,r as Le,u as Pe,v as K,w as D,x as H,y as R,z as x,A as C,B as A,C as N,D as G,E as te}from"./chunks/vendor-492729b6.js";function ye(_){let e,t,s;const l=[_[1]||{}];var n=_[0][0];function a(r){let o={};for(let c=0;c<l.length;c+=1)o=N(o,l[c]);return{props:o}}return n&&(e=new n(a())),{c(){e&&D(e.$$.fragment),t=w()},l(r){e&&H(e.$$.fragment,r),t=w()},m(r,o){e&&R(e,r,o),k(r,t,o),s=!0},p(r,o){const c=o&2?x(l,[C(r[1]||{})]):{};if(n!==(n=r[0][0])){if(e){U();const u=e;b(u.$$.fragment,1,0,()=>{A(u,1)}),j()}n?(e=new n(a()),D(e.$$.fragment),$(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&b(e.$$.fragment,r),s=!1},d(r){r&&P(t),e&&A(e,r)}}}function Te(_){let e,t,s;const l=[_[1]||{}];var n=_[0][0];function a(r){let o={$$slots:{default:[Ae]},$$scope:{ctx:r}};for(let c=0;c<l.length;c+=1)o=N(o,l[c]);return{props:o}}return n&&(e=new n(a(_))),{c(){e&&D(e.$$.fragment),t=w()},l(r){e&&H(e.$$.fragment,r),t=w()},m(r,o){e&&R(e,r,o),k(r,t,o),s=!0},p(r,o){const c=o&2?x(l,[C(r[1]||{})]):{};if(o&525&&(c.$$scope={dirty:o,ctx:r}),n!==(n=r[0][0])){if(e){U();const u=e;b(u.$$.fragment,1,0,()=>{A(u,1)}),j()}n?(e=new n(a(r)),D(e.$$.fragment),$(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&b(e.$$.fragment,r),s=!1},d(r){r&&P(t),e&&A(e,r)}}}function ke(_){let e,t,s;const l=[_[2]||{}];var n=_[0][1];function a(r){let o={};for(let c=0;c<l.length;c+=1)o=N(o,l[c]);return{props:o}}return n&&(e=new n(a())),{c(){e&&D(e.$$.fragment),t=w()},l(r){e&&H(e.$$.fragment,r),t=w()},m(r,o){e&&R(e,r,o),k(r,t,o),s=!0},p(r,o){const c=o&4?x(l,[C(r[2]||{})]):{};if(n!==(n=r[0][1])){if(e){U();const u=e;b(u.$$.fragment,1,0,()=>{A(u,1)}),j()}n?(e=new n(a()),D(e.$$.fragment),$(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&b(e.$$.fragment,r),s=!1},d(r){r&&P(t),e&&A(e,r)}}}function De(_){let e,t,s;const l=[_[2]||{}];var n=_[0][1];function a(r){let o={$$slots:{default:[Re]},$$scope:{ctx:r}};for(let c=0;c<l.length;c+=1)o=N(o,l[c]);return{props:o}}return n&&(e=new n(a(_))),{c(){e&&D(e.$$.fragment),t=w()},l(r){e&&H(e.$$.fragment,r),t=w()},m(r,o){e&&R(e,r,o),k(r,t,o),s=!0},p(r,o){const c=o&4?x(l,[C(r[2]||{})]):{};if(o&521&&(c.$$scope={dirty:o,ctx:r}),n!==(n=r[0][1])){if(e){U();const u=e;b(u.$$.fragment,1,0,()=>{A(u,1)}),j()}n?(e=new n(a(r)),D(e.$$.fragment),$(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&b(e.$$.fragment,r),s=!1},d(r){r&&P(t),e&&A(e,r)}}}function Re(_){let e,t,s;const l=[_[3]||{}];var n=_[0][2];function a(r){let o={};for(let c=0;c<l.length;c+=1)o=N(o,l[c]);return{props:o}}return n&&(e=new n(a())),{c(){e&&D(e.$$.fragment),t=w()},l(r){e&&H(e.$$.fragment,r),t=w()},m(r,o){e&&R(e,r,o),k(r,t,o),s=!0},p(r,o){const c=o&8?x(l,[C(r[3]||{})]):{};if(n!==(n=r[0][2])){if(e){U();const u=e;b(u.$$.fragment,1,0,()=>{A(u,1)}),j()}n?(e=new n(a()),D(e.$$.fragment),$(e.$$.fragment,1),R(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(r){s||(e&&$(e.$$.fragment,r),s=!0)},o(r){e&&b(e.$$.fragment,r),s=!1},d(r){r&&P(t),e&&A(e,r)}}}function Ae(_){let e,t,s,l;const n=[De,ke],a=[];function r(o,c){return o[0][2]?0:1}return e=r(_),t=a[e]=n[e](_),{c(){t.c(),s=w()},l(o){t.l(o),s=w()},m(o,c){a[e].m(o,c),k(o,s,c),l=!0},p(o,c){let u=e;e=r(o),e===u?a[e].p(o,c):(U(),b(a[u],1,1,()=>{a[u]=null}),j(),t=a[e],t?t.p(o,c):(t=a[e]=n[e](o),t.c()),$(t,1),t.m(s.parentNode,s))},i(o){l||($(t),l=!0)},o(o){b(t),l=!1},d(o){a[e].d(o),o&&P(s)}}}function re(_){let e,t=_[5]&&ie(_);return{c(){e=ge("div"),t&&t.c(),this.h()},l(s){e=me(s,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var l=ve(e);t&&t.l(l),l.forEach(P),this.h()},h(){z(e,"id","svelte-announcer"),z(e,"aria-live","assertive"),z(e,"aria-atomic","true"),O(e,"position","absolute"),O(e,"left","0"),O(e,"top","0"),O(e,"clip","rect(0 0 0 0)"),O(e,"clip-path","inset(50%)"),O(e,"overflow","hidden"),O(e,"white-space","nowrap"),O(e,"width","1px"),O(e,"height","1px")},m(s,l){k(s,e,l),t&&t.m(e,null)},p(s,l){s[5]?t?t.p(s,l):(t=ie(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},d(s){s&&P(e),t&&t.d()}}}function ie(_){let e;return{c(){e=Ee(_[6])},l(t){e=we(t,_[6])},m(t,s){k(t,e,s)},p(t,s){s&64&&be(e,t[6])},d(t){t&&P(e)}}}function Oe(_){let e,t,s,l,n;const a=[Te,ye],r=[];function o(u,h){return u[0][1]?0:1}e=o(_),t=r[e]=a[e](_);let c=_[4]&&re(_);return{c(){t.c(),s=$e(),c&&c.c(),l=w()},l(u){t.l(u),s=Ie(u),c&&c.l(u),l=w()},m(u,h){r[e].m(u,h),k(u,s,h),c&&c.m(u,h),k(u,l,h),n=!0},p(u,[h]){let f=e;e=o(u),e===f?r[e].p(u,h):(U(),b(r[f],1,1,()=>{r[f]=null}),j(),t=r[e],t?t.p(u,h):(t=r[e]=a[e](u),t.c()),$(t,1),t.m(s.parentNode,s)),u[4]?c?c.p(u,h):(c=re(u),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null)},i(u){n||($(t),n=!0)},o(u){b(t),n=!1},d(u){r[e].d(u),u&&P(s),c&&c.d(u),u&&P(l)}}}function Ve(_,e,t){let{stores:s}=e,{page:l}=e,{components:n}=e,{props_0:a=null}=e,{props_1:r=null}=e,{props_2:o=null}=e;Le("__svelte__",s),Pe(s.page.notify);let c=!1,u=!1,h=null;return K(()=>{const f=s.page.subscribe(()=>{c&&(t(5,u=!0),t(6,h=document.title||"untitled page"))});return t(4,c=!0),f}),_.$$set=f=>{"stores"in f&&t(7,s=f.stores),"page"in f&&t(8,l=f.page),"components"in f&&t(0,n=f.components),"props_0"in f&&t(1,a=f.props_0),"props_1"in f&&t(2,r=f.props_1),"props_2"in f&&t(3,o=f.props_2)},_.$$.update=()=>{_.$$.dirty&384&&s.page.set(l)},[n,a,r,o,c,u,h,s,l]}class Se extends de{constructor(e){super();he(this,e,Ve,Oe,pe,{stores:7,page:8,components:0,props_0:1,props_1:2,props_2:3})}}const Ue="modulepreload",se={},je="/_app/",d=function(e,t){return!t||t.length===0?e():Promise.all(t.map(s=>{if(s=`${je}${s}`,s in se)return;se[s]=!0;const l=s.endsWith(".css"),n=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":Ue,l||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),l)return new Promise((r,o)=>{a.addEventListener("load",r),a.addEventListener("error",o)})})).then(()=>e())},i=[()=>d(()=>import("./pages/__layout.svelte-74005861.js"),["pages/__layout.svelte-74005861.js","assets/pages/__layout.svelte-3f550184.css","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/__error.svelte-7c622487.js"),["pages/__error.svelte-7c622487.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/index.md-d043e86e.js"),["pages/index.md-d043e86e.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/index.md-23fc98ac.js"),["pages/030_Developing_a_Language/index.md-23fc98ac.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/index.md-405d1e5d.js"),["pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/index.md-405d1e5d.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/040_Validator_Definition.md-29b60da3.js"),["pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/040_Validator_Definition.md-29b60da3.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/010_Editor_Definition.md-49f87c9b.js"),["pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/010_Editor_Definition.md-49f87c9b.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/020_Scoper_Definition.md-d6b2c8d6.js"),["pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/020_Scoper_Definition.md-d6b2c8d6.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/030_Typer_Definition.md-48c36d75.js"),["pages/030_Developing_a_Language/020_ProjectIt_Definition_Level/030_Typer_Definition.md-48c36d75.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/010_Default_Level/index.md-aaf57210.js"),["pages/030_Developing_a_Language/010_Default_Level/index.md-aaf57210.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/010_Default_Level/010_Defining_the_Language_Structure.md-5f8ec9f2.js"),["pages/030_Developing_a_Language/010_Default_Level/010_Defining_the_Language_Structure.md-5f8ec9f2.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/index.md-fec00a8b.js"),["pages/030_Developing_a_Language/030_API_Level/index.md-fec00a8b.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/020_Writing_Projections.md-c29807ae.js"),["pages/030_Developing_a_Language/030_API_Level/020_Writing_Projections.md-c29807ae.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/030_Writing_Actions.md-ffbfdd70.js"),["pages/030_Developing_a_Language/030_API_Level/030_Writing_Actions.md-ffbfdd70.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/040_Validator_API.md-fa24829f.js"),["pages/030_Developing_a_Language/030_API_Level/040_Validator_API.md-fa24829f.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/010_Editor_API.md-a1895c0e.js"),["pages/030_Developing_a_Language/030_API_Level/010_Editor_API.md-a1895c0e.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/060_Scoper_API.md-6bdef58e.js"),["pages/030_Developing_a_Language/030_API_Level/060_Scoper_API.md-6bdef58e.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/070_Reader_API.md-bfe0d3a6.js"),["pages/030_Developing_a_Language/030_API_Level/070_Reader_API.md-bfe0d3a6.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/030_API_Level/050_Typer_API.md-b6cc4d98.js"),["pages/030_Developing_a_Language/030_API_Level/050_Typer_API.md-b6cc4d98.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/040_Styling/index.md-ca7511a2.js"),["pages/030_Developing_a_Language/040_Styling/index.md-ca7511a2.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/040_Styling/010_Editor_Styling.md-34e4a6e2.js"),["pages/030_Developing_a_Language/040_Styling/010_Editor_Styling.md-34e4a6e2.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/030_Developing_a_Language/040_Styling/020_Webapp_Styling.md-a3bb6b35.js"),["pages/030_Developing_a_Language/040_Styling/020_Webapp_Styling.md-a3bb6b35.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/020_Getting_Started/index.md-6a5c360d.js"),["pages/020_Getting_Started/index.md-6a5c360d.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/020_Getting_Started/030_Calling_the_Generator.md-1c6c8ebb.js"),["pages/020_Getting_Started/030_Calling_the_Generator.md-1c6c8ebb.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/020_Getting_Started/020_Project_Structure.md-be93fb9b.js"),["pages/020_Getting_Started/020_Project_Structure.md-be93fb9b.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>d(()=>import("./pages/020_Getting_Started/010_Installation.md-823382fd.js"),["pages/020_Getting_Started/010_Installation.md-823382fd.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/index.md-4c8f5244.js"),["pages/060_Under_the_Hood/index.md-4c8f5244.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/030_Source_Code_Documentation/index.md-1a29295e.js"),["pages/060_Under_the_Hood/030_Source_Code_Documentation/index.md-1a29295e.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/index.md-4ec7dd25.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/index.md-4ec7dd25.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/010_PiEnvironment_Interface.md-2bf1b84b.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/010_PiEnvironment_Interface.md-2bf1b84b.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/080_PiStandardlib_Interface.md-6121f3d2.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/080_PiStandardlib_Interface.md-6121f3d2.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/040_PiValidator_Interface.md-323f2142.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/040_PiValidator_Interface.md-323f2142.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/020_PiScoper_Interface.md-8ca1a504.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/020_PiScoper_Interface.md-8ca1a504.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/060_PiReader_Interface.md-c2368cd0.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/060_PiReader_Interface.md-c2368cd0.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/070_PiWriter_Interface.md-4eddf260.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/070_PiWriter_Interface.md-4eddf260.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/020_The_PiTool_Interfaces/050_PiTyper_Interface.md-16b87d1c.js"),["pages/060_Under_the_Hood/020_The_PiTool_Interfaces/050_PiTyper_Interface.md-16b87d1c.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/index.md-20642cb2.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/index.md-20642cb2.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/index.md-3cc4e8b5.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/index.md-3cc4e8b5.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/040_PiBinary_Expression_Interface.md-61695dd5.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/040_PiBinary_Expression_Interface.md-61695dd5.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/060_PiNamedElement_Interface.md-d5e1c284.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/060_PiNamedElement_Interface.md-d5e1c284.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/010_PiProjection_Interface.md-efa989c5.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/010_PiProjection_Interface.md-efa989c5.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/030_PiExpression_Interface.md-d8036a18.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/030_PiExpression_Interface.md-d8036a18.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/050_PiElement_Interface.md-440f2cd4.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/050_PiElement_Interface.md-440f2cd4.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/020_PiAction_Interface.md-ebe0fbab.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/020_The_Editor_Interfaces/020_PiAction_Interface.md-ebe0fbab.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/060_Under_the_Hood/010_The_Editor_Framework/010_Predefined_Boxes.md-3b1e58f8.js"),["pages/060_Under_the_Hood/010_The_Editor_Framework/010_Predefined_Boxes.md-3b1e58f8.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/010_Intro/index.svelte-480d85f0.js"),["pages/010_Intro/index.svelte-480d85f0.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/010_Intro/050_Three_Levels_of_Customization.md-c78f84e7.js"),["pages/010_Intro/050_Three_Levels_of_Customization.md-c78f84e7.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/010_Intro/040_A_Language_in_Five_Parts.md-3a10e555.js"),["pages/010_Intro/040_A_Language_in_Five_Parts.md-3a10e555.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/010_Intro/030_Models_and_Model_Units.md-e7f15d70.js"),["pages/010_Intro/030_Models_and_Model_Units.md-e7f15d70.js","assets/Note.svelte_svelte_type_style_lang-a108c8ba.css","chunks/vendor-492729b6.js","chunks/Note-1bdf01a3.js"]),()=>d(()=>import("./pages/010_Intro/010_Projectional_Editing.md-7b9cccce.js"),["pages/010_Intro/010_Projectional_Editing.md-7b9cccce.js","assets/Figure.svelte_svelte_type_style_lang-d2c04b30.css","chunks/vendor-492729b6.js","chunks/Figure-d1c3817f.js"]),()=>d(()=>import("./pages/010_Intro/090_Future_Developments.md-1964df6f.js"),["pages/010_Intro/090_Future_Developments.md-1964df6f.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/010_Intro/020_Our_Philosophy.md-a1c6c9b2.js"),["pages/010_Intro/020_Our_Philosophy.md-a1c6c9b2.js","chunks/vendor-492729b6.js"]),()=>d(()=>import("./pages/099_about.svelte-7476444b.js"),["pages/099_about.svelte-7476444b.js","assets/pages/099_about.svelte-04e63ca7.css","chunks/vendor-492729b6.js"])],He=[[/^\/$/,[i[0],i[2]],[i[1]]],[/^\/030_Developing_a_Language\/?$/,[i[0],i[3]],[i[1]]],[/^\/030_Developing_a_Language\/020_ProjectIt_Definition_Level\/?$/,[i[0],i[4]],[i[1]]],[/^\/030_Developing_a_Language\/020_ProjectIt_Definition_Level\/040_Validator_Definition\/?$/,[i[0],i[5]],[i[1]]],[/^\/030_Developing_a_Language\/020_ProjectIt_Definition_Level\/010_Editor_Definition\/?$/,[i[0],i[6]],[i[1]]],[/^\/030_Developing_a_Language\/020_ProjectIt_Definition_Level\/020_Scoper_Definition\/?$/,[i[0],i[7]],[i[1]]],[/^\/030_Developing_a_Language\/020_ProjectIt_Definition_Level\/030_Typer_Definition\/?$/,[i[0],i[8]],[i[1]]],[/^\/030_Developing_a_Language\/010_Default_Level\/?$/,[i[0],i[9]],[i[1]]],[/^\/030_Developing_a_Language\/010_Default_Level\/010_Defining_the_Language_Structure\/?$/,[i[0],i[10]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/?$/,[i[0],i[11]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/020_Writing_Projections\/?$/,[i[0],i[12]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/030_Writing_Actions\/?$/,[i[0],i[13]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/040_Validator_API\/?$/,[i[0],i[14]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/010_Editor_API\/?$/,[i[0],i[15]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/060_Scoper_API\/?$/,[i[0],i[16]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/070_Reader_API\/?$/,[i[0],i[17]],[i[1]]],[/^\/030_Developing_a_Language\/030_API_Level\/050_Typer_API\/?$/,[i[0],i[18]],[i[1]]],[/^\/030_Developing_a_Language\/040_Styling\/?$/,[i[0],i[19]],[i[1]]],[/^\/030_Developing_a_Language\/040_Styling\/010_Editor_Styling\/?$/,[i[0],i[20]],[i[1]]],[/^\/030_Developing_a_Language\/040_Styling\/020_Webapp_Styling\/?$/,[i[0],i[21]],[i[1]]],[/^\/020_Getting_Started\/?$/,[i[0],i[22]],[i[1]]],[/^\/020_Getting_Started\/030_Calling_the_Generator\/?$/,[i[0],i[23]],[i[1]]],[/^\/020_Getting_Started\/020_Project_Structure\/?$/,[i[0],i[24]],[i[1]]],[/^\/020_Getting_Started\/010_Installation\/?$/,[i[0],i[25]],[i[1]]],[/^\/060_Under_the_Hood\/?$/,[i[0],i[26]],[i[1]]],[/^\/060_Under_the_Hood\/030_Source_Code_Documentation\/?$/,[i[0],i[27]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/?$/,[i[0],i[28]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/010_PiEnvironment_Interface\/?$/,[i[0],i[29]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/080_PiStandardlib_Interface\/?$/,[i[0],i[30]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/040_PiValidator_Interface\/?$/,[i[0],i[31]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/020_PiScoper_Interface\/?$/,[i[0],i[32]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/060_PiReader_Interface\/?$/,[i[0],i[33]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/070_PiWriter_Interface\/?$/,[i[0],i[34]],[i[1]]],[/^\/060_Under_the_Hood\/020_The_PiTool_Interfaces\/050_PiTyper_Interface\/?$/,[i[0],i[35]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/?$/,[i[0],i[36]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/?$/,[i[0],i[37]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/040_PiBinary_Expression_Interface\/?$/,[i[0],i[38]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/060_PiNamedElement_Interface\/?$/,[i[0],i[39]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/010_PiProjection_Interface\/?$/,[i[0],i[40]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/030_PiExpression_Interface\/?$/,[i[0],i[41]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/050_PiElement_Interface\/?$/,[i[0],i[42]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/020_The_Editor_Interfaces\/020_PiAction_Interface\/?$/,[i[0],i[43]],[i[1]]],[/^\/060_Under_the_Hood\/010_The_Editor_Framework\/010_Predefined_Boxes\/?$/,[i[0],i[44]],[i[1]]],[/^\/010_Intro\/?$/,[i[0],i[45]],[i[1]]],[/^\/010_Intro\/050_Three_Levels_of_Customization\/?$/,[i[0],i[46]],[i[1]]],[/^\/010_Intro\/040_A_Language_in_Five_Parts\/?$/,[i[0],i[47]],[i[1]]],[/^\/010_Intro\/030_Models_and_Model_Units\/?$/,[i[0],i[48]],[i[1]]],[/^\/010_Intro\/010_Projectional_Editing\/?$/,[i[0],i[49]],[i[1]]],[/^\/010_Intro\/090_Future_Developments\/?$/,[i[0],i[50]],[i[1]]],[/^\/010_Intro\/020_Our_Philosophy\/?$/,[i[0],i[51]],[i[1]]],[/^\/099_about\/?$/,[i[0],i[52]],[i[1]]]],xe=[i[0](),i[1]()];function Ce(_){let e=_.baseURI;if(!e){const t=_.getElementsByTagName("base");e=t.length?t[0].href:_.URL}return e}let M="";function Ne(_){M=_.base,_.assets}function J(){return{x:pageXOffset,y:pageYOffset}}function ne(_){return _.composedPath().find(t=>t instanceof Node&&t.nodeName.toUpperCase()==="A")}function oe(_){return _ instanceof SVGAElement?new URL(_.href.baseVal,document.baseURI):new URL(_.href)}class Fe{constructor({base:e,routes:t,trailing_slash:s,renderer:l}){var n,a;this.base=e,this.routes=t,this.trailing_slash=s,this.navigating=0,this.renderer=l,l.router=this,this.enabled=!0,document.body.setAttribute("tabindex","-1"),this.current_history_index=(a=(n=history.state)==null?void 0:n["sveltekit:index"])!=null?a:0,this.current_history_index===0&&history.replaceState(B(I({},history.state),{"sveltekit:index":0}),"",location.href),this.callbacks={before_navigate:[],after_navigate:[]}}init_listeners(){"scrollRestoration"in history&&(history.scrollRestoration="manual"),addEventListener("beforeunload",n=>{let a=!1;const r={from:this.renderer.current.url,to:null,cancel:()=>a=!0};this.callbacks.before_navigate.forEach(o=>o(r)),a?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("load",()=>{history.scrollRestoration="manual"});let e;addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{const n=B(I({},history.state||{}),{"sveltekit:scroll":J()});history.replaceState(n,document.title,window.location.href)},200)});const t=n=>{const a=ne(n);a&&a.href&&a.hasAttribute("sveltekit:prefetch")&&this.prefetch(oe(a))};let s;const l=n=>{clearTimeout(s),s=setTimeout(()=>{var a;(a=n.target)==null||a.dispatchEvent(new CustomEvent("sveltekit:trigger_prefetch",{bubbles:!0}))},20)};addEventListener("touchstart",t),addEventListener("mousemove",l),addEventListener("sveltekit:trigger_prefetch",t),addEventListener("click",n=>{if(!this.enabled||n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;const a=ne(n);if(!a||!a.href)return;const r=oe(a);if(r.toString()===location.href){location.hash||n.preventDefault();return}const c=(a.getAttribute("rel")||"").split(/\s+/);if(a.hasAttribute("download")||c&&c.includes("external")||(a instanceof SVGAElement?a.target.baseVal:a.target))return;const[u,h]=r.href.split("#");if(h!==void 0&&u===location.href.split("#")[0]){setTimeout(()=>history.pushState({},"",r.href));const f=this.parse(r);return f?this.renderer.update(f,[],!1):void 0}this._navigate({url:r,scroll:a.hasAttribute("sveltekit:noscroll")?J():null,keepfocus:!1,chain:[],details:{state:{},replaceState:!1},accepted:()=>n.preventDefault(),blocked:()=>n.preventDefault()})}),addEventListener("popstate",n=>{if(n.state&&this.enabled){if(n.state["sveltekit:index"]===this.current_history_index)return;this._navigate({url:new URL(location.href),scroll:n.state["sveltekit:scroll"],keepfocus:!1,chain:[],details:null,accepted:()=>{this.current_history_index=n.state["sveltekit:index"]},blocked:()=>{const a=this.current_history_index-n.state["sveltekit:index"];history.go(a)}})}})}owns(e){return e.origin===location.origin&&e.pathname.startsWith(this.base)}parse(e){if(this.owns(e)){const t=decodeURI(e.pathname.slice(this.base.length)||"/");return{id:e.pathname+e.search,routes:this.routes.filter(([s])=>s.test(t)),url:e,path:t}}}async goto(e,{noscroll:t=!1,replaceState:s=!1,keepfocus:l=!1,state:n={}}={},a){const r=new URL(e,Ce(document));return this.enabled?this._navigate({url:r,scroll:t?J():null,keepfocus:l,chain:a,details:{state:n,replaceState:s},accepted:()=>{},blocked:()=>{}}):(location.href=r.href,new Promise(()=>{}))}enable(){this.enabled=!0}disable(){this.enabled=!1}async prefetch(e){const t=this.parse(e);if(!t)throw new Error("Attempted to prefetch a URL that does not belong to this app");return this.renderer.load(t)}after_navigate(e){K(()=>(this.callbacks.after_navigate.push(e),()=>{const t=this.callbacks.after_navigate.indexOf(e);this.callbacks.after_navigate.splice(t,1)}))}before_navigate(e){K(()=>(this.callbacks.before_navigate.push(e),()=>{const t=this.callbacks.before_navigate.indexOf(e);this.callbacks.before_navigate.splice(t,1)}))}async _navigate({url:e,scroll:t,keepfocus:s,chain:l,details:n,accepted:a,blocked:r}){const o=this.renderer.current.url;let c=!1;const u={from:o,to:e,cancel:()=>c=!0};if(this.callbacks.before_navigate.forEach(p=>p(u)),c){r();return}const h=this.parse(e);if(!h)return location.href=e.href,new Promise(()=>{});a(),this.navigating||dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.navigating++;let{pathname:f}=e;if(this.trailing_slash==="never"?f!=="/"&&f.endsWith("/")&&(f=f.slice(0,-1)):this.trailing_slash==="always"&&!e.pathname.split("/").pop().includes(".")&&!f.endsWith("/")&&(f+="/"),h.url=new URL(e.origin+f+e.search+e.hash),n){const p=n.replaceState?0:1;n.state["sveltekit:index"]=this.current_history_index+=p,history[n.replaceState?"replaceState":"pushState"](n.state,"",h.url)}if(await this.renderer.handle_navigation(h,l,!1,{scroll:t,keepfocus:s}),this.navigating--,!this.navigating){dispatchEvent(new CustomEvent("sveltekit:navigation-end"));const p={from:o,to:e};this.callbacks.after_navigate.forEach(g=>g(p))}}}function ae(_){return _ instanceof Error||_&&_.name&&_.message?_:new Error(JSON.stringify(_))}function We(_){let e=5381,t=_.length;if(typeof _=="string")for(;t;)e=e*33^_.charCodeAt(--t);else for(;t;)e=e*33^_[--t];return(e>>>0).toString(36)}function _e(_){const e=_.status&&_.status>=400&&_.status<=599&&!_.redirect;if(_.error||e){const t=_.status;if(!_.error&&e)return{status:t||500,error:new Error};const s=typeof _.error=="string"?new Error(_.error):_.error;return s instanceof Error?!t||t<400||t>599?(console.warn('"error" returned from load() without a valid status code \u2014 defaulting to 500'),{status:500,error:s}):{status:t,error:s}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof s}"`)}}if(_.redirect){if(!_.status||Math.floor(_.status/100)!==3)return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if(typeof _.redirect!="string")return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}if(_.context)throw new Error('You are returning "context" from a load function. "context" was renamed to "stuff", please adjust your code accordingly.');return _}function le(_){const e=G(_);let t=!0;function s(){t=!0,e.update(a=>a)}function l(a){t=!1,e.set(a)}function n(a){let r;return e.subscribe(o=>{(r===void 0||t&&o!==r)&&a(r=o)})}return{notify:s,set:l,subscribe:n}}function qe(){const{set:_,subscribe:e}=G(!1),t="1644605261112";let s;async function l(){clearTimeout(s);const a=await fetch(`${M}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(a.ok){const{version:r}=await a.json(),o=r!==t;return o&&(_(!0),clearTimeout(s)),o}else throw new Error(`Version check failed: ${a.status}`)}return{subscribe:e,check:l}}function Ge(_,e){const t=typeof _=="string"?_:_.url;let s=`script[data-type="svelte-data"][data-url=${JSON.stringify(t)}]`;e&&typeof e.body=="string"&&(s+=`[data-body="${We(e.body)}"]`);const l=document.querySelector(s);if(l&&l.textContent){const n=JSON.parse(l.textContent),{body:a}=n,r=ee(n,["body"]);return Promise.resolve(new Response(a,r))}return fetch(_,e)}class Be{constructor({Root:e,fallback:t,target:s,session:l}){this.Root=e,this.fallback=t,this.router,this.target=s,this.started=!1,this.session_id=1,this.invalid=new Set,this.invalidating=null,this.autoscroll=!0,this.updating=!1,this.current={url:null,session_id:0,branch:[]},this.cache=new Map,this.loading={id:null,promise:null},this.stores={url:le({}),page:le({}),navigating:G(null),session:G(l),updated:qe()},this.$session=null,this.root=null;let n=!1;this.stores.session.subscribe(async a=>{if(this.$session=a,!n||!this.router)return;this.session_id+=1;const r=this.router.parse(new URL(location.href));r&&this.update(r,[],!0)}),n=!0}disable_scroll_handling(){(this.updating||!this.started)&&(this.autoscroll=!1)}async start({status:e,error:t,nodes:s,url:l,params:n}){const a=[];let r={},o,c;l.hash=window.location.hash;try{for(let u=0;u<s.length;u+=1){const h=u===s.length-1;let f;if(h){const g=document.querySelector('[data-type="svelte-props"]');g&&(f=JSON.parse(g.textContent))}const p=await this._load_node({module:await s[u],url:l,params:n,stuff:r,status:h?e:void 0,error:h?t:void 0,props:f});if(f&&p.uses.dependencies.add(l.href),a.push(p),p&&p.loaded)if(p.loaded.error){if(t)throw p.loaded.error;c={status:p.loaded.status,error:p.loaded.error,url:l}}else p.loaded.stuff&&(r=I(I({},r),p.loaded.stuff))}o=c?await this._load_error(c):await this._get_navigation_result_from_branch({url:l,params:n,stuff:r,branch:a,status:e,error:t})}catch(u){if(t)throw u;o=await this._load_error({status:500,error:ae(u),url:l})}if(o.redirect){location.href=new URL(o.redirect,location.href).href;return}this._init(o)}async handle_navigation(e,t,s,l){this.started&&this.stores.navigating.set({from:this.current.url,to:e.url}),await this.update(e,t,s,l)}async update(e,t,s,l){var o,c,u;const n=this.token={};let a=await this._get_navigation_result(e,s);if(n!==this.token)return;if(this.invalid.clear(),a.redirect)if(t.length>10||t.includes(e.url.pathname))a=await this._load_error({status:500,error:new Error("Redirect loop"),url:e.url});else{this.router?this.router.goto(new URL(a.redirect,e.url).href,{replaceState:!0},[...t,e.url.pathname]):location.href=new URL(a.redirect,location.href).href;return}else if(((c=(o=a.props)==null?void 0:o.page)==null?void 0:c.status)>=400&&await this.stores.updated.check()){location.href=e.url.href;return}if(this.updating=!0,this.started?(this.current=a.state,this.root.$set(a.props),this.stores.navigating.set(null)):this._init(a),l){const{scroll:h,keepfocus:f}=l;if(f||((u=getSelection())==null||u.removeAllRanges(),document.body.focus()),await te(),this.autoscroll){const p=e.url.hash&&document.getElementById(e.url.hash.slice(1));h?scrollTo(h.x,h.y):p?p.scrollIntoView():scrollTo(0,0)}}else await te();if(this.loading.promise=null,this.loading.id=null,this.autoscroll=!0,this.updating=!1,!this.router)return;const r=a.state.branch[a.state.branch.length-1];r&&r.module.router===!1?this.router.disable():this.router.enable()}load(e){return this.loading.promise=this._get_navigation_result(e,!1),this.loading.id=e.id,this.loading.promise}invalidate(e){return this.invalid.add(e),this.invalidating||(this.invalidating=Promise.resolve().then(async()=>{const t=this.router&&this.router.parse(new URL(location.href));t&&await this.update(t,[],!0),this.invalidating=null})),this.invalidating}_init(e){this.current=e.state;const t=document.querySelector("style[data-svelte]");if(t&&t.remove(),this.root=new this.Root({target:this.target,props:I({stores:this.stores},e.props),hydrate:!0}),this.started=!0,this.router){const s={from:null,to:new URL(location.href)};this.router.callbacks.after_navigate.forEach(l=>l(s))}}async _get_navigation_result(e,t){if(this.loading.id===e.id&&this.loading.promise)return this.loading.promise;for(let s=0;s<e.routes.length;s+=1){const l=e.routes[s];let n=s+1;for(;n<e.routes.length;){const r=e.routes[n];if(r[0].toString()===l[0].toString())r[1].forEach(o=>o()),n+=1;else break}const a=await this._load({route:l,info:e},t);if(a)return a}return await this._load_error({status:404,error:new Error(`Not found: ${e.url.pathname}`),url:e.url})}async _get_navigation_result_from_branch({url:e,params:t,stuff:s,branch:l,status:n,error:a}){const r=l.filter(Boolean),o=r.find(f=>f.loaded&&f.loaded.redirect),c={redirect:o&&o.loaded?o.loaded.redirect:void 0,state:{url:e,params:t,branch:l,session_id:this.session_id},props:{components:r.map(f=>f.module.default)}};for(let f=0;f<r.length;f+=1){const p=r[f].loaded;c.props[`props_${f}`]=p?await p.props:null}if(!this.current.url||e.href!==this.current.url.href){c.props.page={url:e,params:t,status:n,error:a,stuff:s};const f=(p,g)=>{Object.defineProperty(c.props.page,p,{get:()=>{throw new Error(`$page.${p} has been replaced by $page.url.${g}`)}})};f("origin","origin"),f("path","pathname"),f("query","searchParams")}const u=r[r.length-1],h=u.loaded&&u.loaded.maxage;if(h){const f=e.pathname+e.search;let p=!1;const g=()=>{this.cache.get(f)===c&&this.cache.delete(f),y(),clearTimeout(V)},V=setTimeout(g,h*1e3),y=this.stores.session.subscribe(()=>{p&&g()});p=!0,this.cache.set(f,c)}return c}async _load_node({status:e,error:t,module:s,url:l,params:n,stuff:a,props:r}){const o={module:s,uses:{params:new Set,url:!1,session:!1,stuff:!1,dependencies:new Set},loaded:null,stuff:a};r&&o.uses.dependencies.add(l.href);const c={};for(const h in n)Object.defineProperty(c,h,{get(){return o.uses.params.add(h),n[h]},enumerable:!0});const u=this.$session;if(s.load){const{started:h}=this,f={params:c,props:r||{},get url(){return o.uses.url=!0,l},get session(){return o.uses.session=!0,u},get stuff(){return o.uses.stuff=!0,I({},a)},fetch(g,V){const y=typeof g=="string"?g:g.url,{href:T}=new URL(y,l);return o.uses.dependencies.add(T),h?fetch(g,V):Ge(g,V)}};t&&(f.status=e,f.error=t);const p=await s.load.call(null,f);if(!p)throw new Error("load function must return a value");o.loaded=_e(p),o.loaded.stuff&&(o.stuff=o.loaded.stuff)}else r&&(o.loaded=_e({props:r}));return o}async _load({route:e,info:{url:t,path:s}},l){const n=t.pathname+t.search;if(!l){const m=this.cache.get(n);if(m)return m}const[a,r,o,c,u]=e,h=c?c(a.exec(s)):{},f=this.current.url&&{url:n!==this.current.url.pathname+this.current.url.search,params:Object.keys(h).filter(m=>this.current.params[m]!==h[m]),session:this.session_id!==this.current.session_id};let p=[],g={},V=!1,y=200,T;r.forEach(m=>m());e:for(let m=0;m<r.length;m+=1){let v;try{if(!r[m])continue;const E=await r[m](),L=this.current.branch[m];if(!L||E!==L.module||f.url&&L.uses.url||f.params.some(S=>L.uses.params.has(S))||f.session&&L.uses.session||Array.from(L.uses.dependencies).some(S=>this.invalid.has(S))||V&&L.uses.stuff){let S={};if(u&&m===r.length-1){const W=await fetch(`${t.pathname}${t.pathname.endsWith("/")?"":"/"}__data.json`,{headers:{"x-sveltekit-noredirect":"true"}});if(W.ok){const Y=W.headers.get("x-sveltekit-location");if(Y)return{redirect:Y,props:{},state:this.current};S=await W.json()}else y=W.status,T=new Error("Failed to load data")}if(T||(v=await this._load_node({module:E,url:t,params:h,props:S,stuff:g})),v&&v.loaded){if(v.loaded.fallthrough)return;if(v.loaded.error&&(y=v.loaded.status,T=v.loaded.error),v.loaded.redirect)return{redirect:v.loaded.redirect,props:{},state:this.current};v.loaded.stuff&&(V=!0)}}else v=L}catch(E){y=500,T=ae(E)}if(T){for(;m--;)if(o[m]){let E,L,F=m;for(;!(L=p[F]);)F-=1;try{if(E=await this._load_node({status:y,error:T,module:await o[m](),url:t,params:h,stuff:L.stuff}),E&&E.loaded&&E.loaded.error)continue;E&&E.loaded&&E.loaded.stuff&&(g=I(I({},g),E.loaded.stuff)),p=p.slice(0,F+1).concat(E);break e}catch{continue}}return await this._load_error({status:y,error:T,url:t})}else v&&v.loaded&&v.loaded.stuff&&(g=I(I({},g),v.loaded.stuff)),p.push(v)}return await this._get_navigation_result_from_branch({url:t,params:h,stuff:g,branch:p,status:y,error:T})}async _load_error({status:e,error:t,url:s}){var c,u;const l={},n=await this._load_node({module:await this.fallback[0],url:s,params:l,stuff:{}}),a=await this._load_node({status:e,error:t,module:await this.fallback[1],url:s,params:l,stuff:n&&n.loaded&&n.loaded.stuff||{}}),r=[n,a],o=I(I({},(c=n==null?void 0:n.loaded)==null?void 0:c.stuff),(u=a==null?void 0:a.loaded)==null?void 0:u.stuff);return await this._get_navigation_result_from_branch({url:s,params:l,stuff:o,branch:r,status:e,error:t})}}async function Ke({paths:_,target:e,session:t,route:s,spa:l,trailing_slash:n,hydrate:a}){const r=new Be({Root:Se,fallback:xe,target:e,session:t}),o=s?new Fe({base:_.base,routes:He,trailing_slash:n,renderer:r}):null;Ne(_),a&&await r.start(a),o&&(l&&o.goto(location.href,{replaceState:!0},[]),o.init_listeners()),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Ke as start};
