<script>
    import Note from "$lib/notes/Note.svelte";
</script>

# The API Level

<Note><svelte:fragment slot="header">Parts of this documentation are outdated</svelte:fragment>
<svelte:fragment slot="content">
Sorry, Freon / Freon is constantly in development, therefore parts of this section are outdated.
In the future the documentation will be updated.
</svelte:fragment>
</Note>

Please, become acquainted with the [three levels of customization](/010_Intro/050_Three_Levels_of_Customization)
used by Freon.
This section explains the 3rd of these three levels where you can customize Freon in TypeScript.

## Customize a Fre-tool

Third level full adaptability _per concept_ is currently possible for:

- [Editor](/030_Developing_a_Language/030_API_Level/010_Editor_API)
- [Validator](/030_Developing_a_Language/030_API_Level/040_Validator_API)
- [Typer](/030_Developing_a_Language/030_API_Level/050_Typer_API)

To add third level adaptability for the scoper, parser and unparser is one of the
entries in our [wish list](/010_Intro/090_Future_Developments).

## Adding your Own Files

As a convenience, Freon generates templates for
your customization in the files `~/picode/editor/Custom<yourLanguageName>Projection.ts`, `~/picode/editor/Custom<yourLanguageName>Actions.ts`, etc
(`<yourLanguageName>` is a placeholder for the name of the language as defined in your .ast file). You can use
these files to add your own special elements.

The custom files can be renamed and/or
put it in another location, or you can create your own set of custom projection files.
In that case, you need to adjust the file `~/picode/config/FreonConfiguration`.

```ts
// DocuProject/src/config/FreonConfiguration.ts

// Generated by the Freon Language Generator.
import {
  FreProjection,
  FreCombinedActions,
  FreTyper,
  FreStdlib,
  FreScoper,
} from "@freon4dsl/core";
import {
  CustomInsuranceModelActions,
  CustomInsuranceModelProjection,
} from "../editor";
import { CustomInsuranceModelScoper } from "../scoper";
import { CustomInsuranceModelTyperPart } from "../typer";
import { CustomInsuranceModelValidator } from "../validator";
import { CustomInsuranceModelStdlib } from "../stdlib";
import { InsuranceModelCheckerInterface } from "../validator/gen";

/**
 * Class FreonConfiguration is the place where you can add all your customisations.
 * These will be used through the 'freonConfiguration' constant by any generated
 * part of your language environment.
 */
class FreonConfiguration {
  // add your custom editor projections here
  customProjection: FreProjection[] = [new CustomInsuranceModelProjection()];
  // add your custom editor actions here
  customActions: FreCombinedActions[] = [new CustomInsuranceModelActions()];
  // add your custom validations here
  customValidations: InsuranceModelCheckerInterface[] = [
    new CustomInsuranceModelValidator(),
  ];
  // add your custom scopers here
  customScopers: FreScoper[] = [new CustomInsuranceModelScoper()];
  // add your custom type-providers here
  customTypers: FreTyper[] = [new CustomInsuranceModelTyperPart()];
  // add extra predefined instances here
  customStdLibs: FreStdlib[] = [new CustomInsuranceModelStdlib()];
}

export const freonConfiguration = new FreonConfiguration();

```

## Replacing a Fre-tool

All parts can be _completely replaced_ at the 3rd level, thereby completely
disregarding the default and definition levels.
This is done by implementing their respective interfaces.

For the scoper, parser and unparser this is currently the only way to customize.

- [scoper](/030_Developing_a_Language/030_API_Level/060_Scoper_API)
- [parser](/030_Developing_a_Language/030_API_Level/070_Reader_API)

### Fre-tool Interfaces

More information on the interfaces can be found here:

- [FreScoper](/060_Under_the_Hood/020_The_FreTool_Interfaces/020_FreScoper_Interface)
- [FreTyper](/060_Under_the_Hood/020_The_FreTool_Interfaces/050_FreTyper_Interface)
- [FreValidator](/060_Under_the_Hood/020_The_FreTool_Interfaces/040_FreValidator_Interface)
- [FreReader](/060_Under_the_Hood/020_The_FreTool_Interfaces/060_FreReader_Interface)
- [FreWriter](/060_Under_the_Hood/020_The_FreTool_Interfaces/070_FreWriter_Interface)
- [FreStdlib](/060_Under_the_Hood/020_The_FreTool_Interfaces/080_FreStandardlib_Interface)
