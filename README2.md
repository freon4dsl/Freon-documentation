# How this documentation project is set up

1.
The content of all code examples is in the folder 'code-examples'. The format of these examples is valid input for Freon.
The first step of generating the documentation website is to use Freon for generating the typescript code needed in the web pages.

2.
The content of the documentation is in folder 'docu-content'. This is in markdown format, and contains references to other markdown
files, as well as references to the code examples from the folder 'code-examples'. The file, as well as the folder names contain
a number to indicate the position of the content within the site-nav.

The second step of generating the documentation website is to use
'embedme' to embed all code within the markdown files. This tool needs to run before anything else is done with the markdown.
(Done in package.json: npm run embedme.)

3.
The references to other markdown files in the markdown files are checked to see whether they all refer to a valid page. (LinkChecker.ts)
If there any invalid links the generation will halt.

4.
With the help of 'mdsvex' and the script in 'remarkExtractHeaders.js' the following is done. (CompileMdFiles.ts)
    1. All H2 headers get an extra property 'visible[index]', where index is the number of the header within the document.
    2. Each header gets an id, based on its text and the index, which can be used to refer to using a href.

5.
A script part is added to the resulting Svelte file, containing information about the headers,
their visibility in the viewport, and their identifiers.

6.
All H2 headers are transformed into SectionComponents. Each SectionComponent is bound to a boolean variable that
'knows' whether the header is currently shown in the viewport, using the index from step 1.

7.
Based on the headers a page nav is generated, which will be displayed to the left of the content.

8.
The script part, the nav, and the html code generated by mdsvex are combined, and written to a Svelte file. This file is placed in
the src/routes folder using the path of the original markdown file.

9.
Based on the path of all markdown files a site-nav is generated (NavTreeFiller.ts), which will be shown to the right of every page.
